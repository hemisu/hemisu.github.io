{
    "componentChunkName": "component---src-templates-blog-post-js",
    "path": "/old-posts/2020-09-27-webpack-bundling-live-by-hand/",
    "result": {"data":{"site":{"siteMetadata":{"title":"ä½•ç±³é…¥`s Blog"}},"markdownRemark":{"id":"dabf4f24-d8be-5126-aa76-47fdc9ef0861","excerpt":"æœ¬è´¨ä¸Šï¼Œwebpack æ˜¯ä¸€ä¸ªç”¨äºç°ä»£ JavaScript åº”ç”¨ç¨‹åºçš„é™æ€æ¨¡å—æ‰“åŒ…å·¥å…·ã€‚å½“ webpack å¤„ç†åº”ç”¨ç¨‹åºæ—¶ï¼Œå®ƒä¼šåœ¨å†…éƒ¨æ„å»ºä¸€ä¸ª ä¾èµ–å›¾(dependency graph)ï¼Œæ­¤ä¾èµ–å›¾å¯¹åº”æ˜ å°„åˆ°é¡¹ç›®æ‰€éœ€çš„æ¯ä¸ªæ¨¡å—ï¼Œå¹¶ç”Ÿæˆä¸€ä¸ªæˆ–å¤šä¸ª bundleâ€¦","html":"<blockquote>\n<p>æœ¬è´¨ä¸Šï¼Œwebpack æ˜¯ä¸€ä¸ªç”¨äºç°ä»£ JavaScript åº”ç”¨ç¨‹åºçš„é™æ€æ¨¡å—æ‰“åŒ…å·¥å…·ã€‚å½“ webpack å¤„ç†åº”ç”¨ç¨‹åºæ—¶ï¼Œå®ƒä¼šåœ¨å†…éƒ¨æ„å»ºä¸€ä¸ª ä¾èµ–å›¾(dependency graph)ï¼Œæ­¤ä¾èµ–å›¾å¯¹åº”æ˜ å°„åˆ°é¡¹ç›®æ‰€éœ€çš„æ¯ä¸ªæ¨¡å—ï¼Œå¹¶ç”Ÿæˆä¸€ä¸ªæˆ–å¤šä¸ª bundleã€‚</p>\n</blockquote>\n<p>ä¸ºäº†æ›´å¥½åœ°ç†è§£æ¨¡å—æ‰“åŒ…å·¥å…·èƒŒåçš„ç†å¿µï¼Œä»¥åŠåœ¨åº•å±‚å®ƒä»¬æ˜¯å¦‚ä½•è¿ä½œçš„ï¼Œåœ¨è§‚çœ‹ Tobias Koppers æ”¾åœ¨æ²¹ç®¡çš„è§†é¢‘åæ•´ç†æœ¬æ–‡ï¼Œåç»­å°†å½•åˆ¶è§†é¢‘å¸®åŠ©ç†è§£ï¼Œdemoåœ°å€å°†åœ¨åº•éƒ¨æ”¾å‡ºã€‚</p>\n<h2 id=\"demoä»‹ç»\" style=\"position:relative;\"><a href=\"#demo%E4%BB%8B%E7%BB%8D\" aria-label=\"demoä»‹ç» permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>Demoä»‹ç»</h2>\n<p>è§†é¢‘<a href=\"https://www.youtube.com/watch?v=UNMkLHzofQI\">1</a>ä»å¼€å¤´ä»‹ç»äº†æ•´ä¸ªé¡¹ç›®çš„å¤§ä½“å†…å®¹ï¼Œä½äº <code class=\"language-text\">src</code> æ–‡ä»¶ä¸­ï¼šé¡¹ç›®ä»¥ <code class=\"language-text\">React</code> ä½œä¸ºç¤ºèŒƒï¼Œå¼•å…¥ä¸€ä¸ªå¼‚æ­¥æ‡’åŠ è½½ç»„ä»¶ï¼ˆ<code class=\"language-text\">lazy component</code>ï¼‰å±•ç¤ºåˆ°æ ¹ç»„ä»¶ä¸­ã€‚</p>\n<p>é¡¹ç›®ç›®å½•å¦‚ä¸‹ï¼š</p>\n<div class=\"gatsby-highlight\" data-language=\"jsx\"><pre class=\"language-jsx\"><code class=\"language-jsx\">â”œâ”€â”€ <span class=\"token constant\">README</span><span class=\"token punctuation\">.</span>md\nâ”œâ”€â”€ index<span class=\"token punctuation\">.</span>html\nâ”œâ”€â”€ one<span class=\"token operator\">-</span>day<span class=\"token operator\">-</span>bundler <span class=\"token comment\">// æŒ‰ç…§æ‰“åŒ…æµç¨‹é¡ºåºæ•´ç†</span>\nâ”œâ”€â”€ react<span class=\"token operator\">-</span>bundle\n\tâ”œâ”€â”€ webpack<span class=\"token punctuation\">.</span>config<span class=\"token punctuation\">.</span>js <span class=\"token comment\">// é¢„æ‰“åŒ… webpack é…ç½®</span>\nâ”œâ”€â”€ src <span class=\"token comment\">// æºæ–‡ä»¶</span>\nâ”œâ”€â”€ webpack<span class=\"token punctuation\">.</span>config<span class=\"token punctuation\">.</span>js <span class=\"token comment\">// ä¸» webpack é…ç½®</span></code></pre></div>\n<ol>\n<li>\n<p>ä¸» <code class=\"language-text\">webpack</code> é…ç½®</p>\n<p>æ–‡ä»¶ä½äº <code class=\"language-text\">wepback.config.js</code> ï¼Œä¸»è¦å†…å®¹æ˜¯ä½¿ç”¨ <code class=\"language-text\">babel-loader</code> è§£æ <code class=\"language-text\">js</code> æ–‡ä»¶ï¼Œç„¶åé…ç½®äº† 3 ä¸ª <code class=\"language-text\">alias</code> è§£æ <code class=\"language-text\">react</code>ã€<code class=\"language-text\">react-dom</code> ä»¥åŠ <code class=\"language-text\">react-bundle</code></p>\n</li>\n<li>\n<p>é¢„æ‰“åŒ… <code class=\"language-text\">webpack</code> é…ç½®</p>\n<p>æ–‡ä»¶ä½äº <code class=\"language-text\">react-bundler/webpack.config.js</code> ç”¨äºå°† <code class=\"language-text\">react</code> å’Œ <code class=\"language-text\">react-dom</code> ä»¥ <code class=\"language-text\">commonjs</code> è§„èŒƒæ‰“åŒ…åˆ° <code class=\"language-text\">react-bundler/dist/react-bundle.js</code> ä¸­ï¼Œè¿™ä¸ªåœ°å€ä¹Ÿæ˜¯ä¸» <code class=\"language-text\">webpack</code> ä¸­æœ€åçš„ <code class=\"language-text\">alias</code> æŒ‡å®šçš„åœ°å€ã€‚è¿™ä¸€æ­¥é¢„æ‰“åŒ…æ˜¯ä¸ºäº†æ›´æ–¹ä¾¿åç»­çš„æ¼”ç¤ºã€‚</p>\n</li>\n</ol>\n<!--more-->\n<p>å®‰è£…å®Œä¾èµ–ä¹‹åï¼Œæˆ‘ä»¬å¯ä»¥å…ˆæ‰§è¡Œä¸€æ³¢ <code class=\"language-text\">yarn webpack --display-modules</code> æŸ¥çœ‹ <code class=\"language-text\">webpack</code> æ‰“åŒ…åçš„ç»“æœ</p>\n<p><span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 630px; \"\n    >\n      <a\n    class=\"gatsby-resp-image-link\"\n    href=\"/static/6e25126419b63c354f1fedec20a82a00/914c7/1.png\"\n    style=\"display: block\"\n    target=\"_blank\"\n    rel=\"noopener\"\n  >\n    <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 36.075949367088604%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAHCAYAAAAIy204AAAACXBIWXMAAAsTAAALEwEAmpwYAAABX0lEQVQoz2WRWY7bMBBEdYsAsUbWSlEUqZVaLdvj8Ybc/0AvMI0MguSj0OgGulFdzwuVpJoHhNYIqejsSNNZMlG4KowmbjRJo0mVYjkcqZoO07QEUYK/j/gI4295ZpuoLguirdyxad3o14WfSUSQpGSVIT9ZxNaTGU1vR7f4Y+ezC0J2QeSq7xThtf1AP0yM88q4rAzTQj2PdMeVylpK01CamkJXlFWNrlvnXrm+oSgVwpTEtSZS8n2w7iyX253b48nX/YEdZg7bicfzF+evG+thYTgfmR6fNLNF1Ia8qYiznDjNiIRgnwuCNMV7DTOpaO3AtB5cRsrULqN53ejsRN41qLFDGkMqBa/cX/LDP+9G75f3EV6cCnJVsmwn5/J8uXK9PzmeLwzzynbamD43yutCtrQEmcD/eGf2N4xvKEorR7MbJqq2p7UjstSkuXTO80KSFDlhIdkL8R/Vfyn/Bglj1GzoI+H1AAAAAElFTkSuQmCC'); background-size: cover; display: block;\"\n  ></span>\n  <img\n        class=\"gatsby-resp-image-image\"\n        alt=\"image\"\n        title=\"image\"\n        src=\"/static/6e25126419b63c354f1fedec20a82a00/f058b/1.png\"\n        srcset=\"/static/6e25126419b63c354f1fedec20a82a00/c26ae/1.png 158w,\n/static/6e25126419b63c354f1fedec20a82a00/6bdcf/1.png 315w,\n/static/6e25126419b63c354f1fedec20a82a00/f058b/1.png 630w,\n/static/6e25126419b63c354f1fedec20a82a00/40601/1.png 945w,\n/static/6e25126419b63c354f1fedec20a82a00/914c7/1.png 978w\"\n        sizes=\"(max-width: 630px) 100vw, 630px\"\n        style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\"\n        loading=\"lazy\"\n        decoding=\"async\"\n      />\n  </a>\n    </span></p>\n<p>ä½¿ç”¨ webpack â€”display-modules æŸ¥çœ‹æ‰“åŒ…ç»“æœ</p>\n<h2 id=\"æ‰‹åŠ¨æ¨¡æ‹Ÿæ‰“åŒ…æµç¨‹\" style=\"position:relative;\"><a href=\"#%E6%89%8B%E5%8A%A8%E6%A8%A1%E6%8B%9F%E6%89%93%E5%8C%85%E6%B5%81%E7%A8%8B\" aria-label=\"æ‰‹åŠ¨æ¨¡æ‹Ÿæ‰“åŒ…æµç¨‹ permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>æ‰‹åŠ¨æ¨¡æ‹Ÿæ‰“åŒ…æµç¨‹</h2>\n<p><code class=\"language-text\">webpack</code> çš„æ‰“åŒ…æµç¨‹å¦‚ <code class=\"language-text\">one-day-bundler</code> ä¸­çš„å„æ–‡ä»¶å¤¹æ‰€ç¤ºï¼Œæ¥ä¸‹æ¥æˆ‘ä»¬å°†æ‰‹åŠ¨æ¨¡æ‹Ÿæ‰“åŒ…æµç¨‹</p>\n<h3 id=\"ç¬¬ä¸€æ­¥ç”Ÿæˆæ¨¡å—ä¾èµ–å›¾-module-graph\" style=\"position:relative;\"><a href=\"#%E7%AC%AC%E4%B8%80%E6%AD%A5%E7%94%9F%E6%88%90%E6%A8%A1%E5%9D%97%E4%BE%9D%E8%B5%96%E5%9B%BE-module-graph\" aria-label=\"ç¬¬ä¸€æ­¥ç”Ÿæˆæ¨¡å—ä¾èµ–å›¾ module graph permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>ç¬¬ä¸€æ­¥ï¼šç”Ÿæˆæ¨¡å—ä¾èµ–å›¾ ï¼ˆmodule-graphï¼‰</h3>\n<p>è‡ª <code class=\"language-text\">webpack4</code> å¼€å§‹ï¼Œå¤§éƒ¨åˆ†çš„é…ç½®éƒ½å†…ç½®äº†ï¼Œè¿™é‡Œçš„è§£æå…¥å£ä» <code class=\"language-text\">src/index.js</code> å¼€å§‹ï¼š</p>\n<div class=\"gatsby-highlight\" data-language=\"jsx\"><pre class=\"language-jsx\"><code class=\"language-jsx\">Modules<span class=\"token operator\">:</span>\n\n<span class=\"token operator\">*</span> src<span class=\"token operator\">/</span>index<span class=\"token punctuation\">.</span><span class=\"token function\">js</span> <span class=\"token punctuation\">(</span><span class=\"token constant\">ESM</span><span class=\"token punctuation\">)</span>\n\n<span class=\"token constant\">TODO</span><span class=\"token operator\">-</span>List<span class=\"token operator\">:</span>\n\n<span class=\"token operator\">*</span> <span class=\"token punctuation\">.</span><span class=\"token operator\">/</span>src <span class=\"token keyword\">in</span> <span class=\"token operator\">...</span><span class=\"token operator\">/</span> <span class=\"token operator\">--</span><span class=\"token operator\">></span> <span class=\"token operator\">...</span><span class=\"token operator\">/</span>src<span class=\"token operator\">/</span>index<span class=\"token punctuation\">.</span>js</code></pre></div>\n<p>æ‰¾åˆ°å…¥å£æ–‡ä»¶åæˆ‘ä»¬çš„ <code class=\"language-text\">rules</code> ä¼šè§£æåˆ° <code class=\"language-text\">.js</code> åç¼€çš„æ–‡ä»¶ï¼Œé€šè¿‡ <code class=\"language-text\">babel-loader</code> è½¬è¯‘åˆ° <code class=\"language-text\">modules</code> ä¸­ï¼Œæˆ‘ä»¬å¯ä»¥æ‰‹åŠ¨æ¨¡æ‹Ÿè¿™ä¸ªè¿‡ç¨‹ï¼š</p>\n<p><code class=\"language-text\">yarn babel src/index.js -d one-day-bundler/10-module-graph/modules</code></p>\n<p>æ¥ç€ä»¥ <code class=\"language-text\">src/index.js</code> å¼€å§‹ï¼Œé™æ€åˆ†æ <code class=\"language-text\">ESM</code> çš„ <code class=\"language-text\">import</code> å‘ç°å¼•ç”¨äº† <code class=\"language-text\">react</code>ã€<code class=\"language-text\">react-dom</code> å’Œ <code class=\"language-text\">./HelloWorld</code>ã€‚ç”±äº <code class=\"language-text\">react</code>ã€<code class=\"language-text\">react-dom</code> å·²ç»åœ¨å‰é¢é¢„ç¼–è¯‘ä¸º <code class=\"language-text\">commonjs</code> è§„èŒƒï¼Œè¿™é‡Œå°±ä¸éœ€è¦ç»§ç»­å¾€ä¸‹è§£æäº†ã€‚</p>\n<p>åœ¨ <code class=\"language-text\">./HelloWorld</code> ä¸­è§£æåˆ°ä»¥ä¸‹ä¸‰å¤„ï¼ŒåŠ å…¥åˆ° <code class=\"language-text\">module graph</code> ä¸­</p>\n<div class=\"gatsby-highlight\" data-language=\"jsx\"><pre class=\"language-jsx\"><code class=\"language-jsx\"><span class=\"token keyword\">import</span> React <span class=\"token keyword\">from</span> <span class=\"token string\">\"react\"</span><span class=\"token punctuation\">;</span> <span class=\"token comment\">// line: 9</span>\n<span class=\"token keyword\">import</span> BigText <span class=\"token keyword\">from</span> <span class=\"token string\">\"./BigText\"</span><span class=\"token punctuation\">;</span> <span class=\"token comment\">// line: 10</span>\n\n<span class=\"token keyword\">import</span><span class=\"token punctuation\">(</span> <span class=\"token comment\">/* webpackChunkName: \"async\" */</span><span class=\"token string\">\"./Lazy\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span><span class=\"token function\">then</span><span class=\"token punctuation\">(</span><span class=\"token keyword\">function</span> <span class=\"token punctuation\">(</span><span class=\"token parameter\">_ref</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span> <span class=\"token comment\">// line:31</span></code></pre></div>\n<p>ä¸å‰é¢ç›¸åŒï¼Œç»§ç»­æ‰‹åŠ¨æ¨¡æ‹Ÿ <code class=\"language-text\">babel-loader</code> çš„è¿‡ç¨‹</p>\n<p><code class=\"language-text\">yarn babel src/HelloWorld.js -d one-day-bundler/10-module-graph/modules</code></p>\n<p><code class=\"language-text\">yarn babel src/BigText.js -d one-day-bundler/10-module-graph/modules</code></p>\n<p><code class=\"language-text\">yarn babel src/Lazy.js -d one-day-bundler/10-module-graph/modules</code></p>\n<p>ç»å†ä»¥ä¸Šä¸‰æ­¥å†…å®¹ï¼Œæˆ‘ä»¬å¯ä»¥åœ¨ç›®å½•ä¸­çœ‹åˆ°ä»¥ä¸‹ç»“æ„ï¼š</p>\n<div class=\"gatsby-highlight\" data-language=\"jsx\"><pre class=\"language-jsx\"><code class=\"language-jsx\">one<span class=\"token operator\">-</span>day<span class=\"token operator\">-</span>bundler<span class=\"token operator\">/</span><span class=\"token number\">10</span><span class=\"token operator\">-</span>module<span class=\"token operator\">-</span>graph<span class=\"token operator\">/</span>modules<span class=\"token operator\">/</span>src\nâ”œâ”€â”€ BigText<span class=\"token punctuation\">.</span>js\nâ”œâ”€â”€ HelloWorld<span class=\"token punctuation\">.</span>js\nâ”œâ”€â”€ Lazy<span class=\"token punctuation\">.</span>js\nâ””â”€â”€ index<span class=\"token punctuation\">.</span>js</code></pre></div>\n<p>å†è¿›å…¥ <code class=\"language-text\">src/BigText.js</code> ä»¥åŠ <code class=\"language-text\">src/Lazy.js</code> åˆ†æï¼Œæœ€ç»ˆçš„ <code class=\"language-text\">module graph</code> å›¾å¦‚ä¸‹ï¼š</p>\n<div class=\"gatsby-highlight\" data-language=\"jsx\"><pre class=\"language-jsx\"><code class=\"language-jsx\">Modules<span class=\"token operator\">:</span>\n\n<span class=\"token operator\">*</span> src<span class=\"token operator\">/</span>index<span class=\"token punctuation\">.</span><span class=\"token function\">js</span> <span class=\"token punctuation\">(</span><span class=\"token constant\">ESM</span><span class=\"token punctuation\">)</span>\n    # react\n    # react<span class=\"token operator\">-</span>dom\n    # <span class=\"token punctuation\">.</span><span class=\"token operator\">/</span>HelloWorld\n    <span class=\"token operator\">-</span> react<span class=\"token operator\">-</span>bundle<span class=\"token punctuation\">.</span>js\n    <span class=\"token operator\">-</span> src<span class=\"token operator\">/</span>HelloWorld<span class=\"token punctuation\">.</span>js\n<span class=\"token operator\">*</span> react<span class=\"token operator\">-</span>bundle<span class=\"token punctuation\">.</span>js\n<span class=\"token operator\">*</span> src<span class=\"token operator\">/</span>HelloWorld<span class=\"token punctuation\">.</span><span class=\"token function\">js</span> <span class=\"token punctuation\">(</span><span class=\"token constant\">ESM</span><span class=\"token punctuation\">)</span>\n    # react\n    # <span class=\"token punctuation\">.</span><span class=\"token operator\">/</span>BigText\n    # <span class=\"token punctuation\">(</span>async<span class=\"token punctuation\">)</span> <span class=\"token punctuation\">.</span><span class=\"token operator\">/</span>Lazy\n    <span class=\"token operator\">-</span> react<span class=\"token operator\">-</span>bundle<span class=\"token punctuation\">.</span>js\n    <span class=\"token operator\">-</span> src<span class=\"token operator\">/</span>BigText<span class=\"token punctuation\">.</span>js\n    <span class=\"token operator\">-</span> <span class=\"token punctuation\">(</span>async<span class=\"token punctuation\">)</span> src<span class=\"token operator\">/</span>Lazy<span class=\"token punctuation\">.</span>js\n<span class=\"token operator\">*</span> src<span class=\"token operator\">/</span>BigText<span class=\"token punctuation\">.</span><span class=\"token function\">js</span> <span class=\"token punctuation\">(</span><span class=\"token constant\">ESM</span><span class=\"token punctuation\">)</span>\n    # react\n    <span class=\"token operator\">-</span> react<span class=\"token operator\">-</span>bundle<span class=\"token punctuation\">.</span>js\n<span class=\"token operator\">*</span> src<span class=\"token operator\">/</span>Lazy<span class=\"token punctuation\">.</span><span class=\"token function\">js</span> <span class=\"token punctuation\">(</span><span class=\"token constant\">ESM</span><span class=\"token punctuation\">)</span>\n    # react\n    # <span class=\"token punctuation\">.</span><span class=\"token operator\">/</span>BigText\n    <span class=\"token operator\">-</span> react<span class=\"token operator\">-</span>bundle<span class=\"token punctuation\">.</span>js\n    <span class=\"token operator\">-</span> src<span class=\"token operator\">/</span>BigText<span class=\"token punctuation\">.</span>js\n\n<span class=\"token constant\">TODO</span><span class=\"token operator\">-</span>List<span class=\"token operator\">:</span>\n\nx <span class=\"token punctuation\">.</span><span class=\"token operator\">/</span>src <span class=\"token keyword\">in</span> <span class=\"token operator\">...</span><span class=\"token operator\">/</span> <span class=\"token operator\">--</span><span class=\"token operator\">></span> <span class=\"token operator\">...</span><span class=\"token operator\">/</span>src<span class=\"token operator\">/</span>index<span class=\"token punctuation\">.</span>js\nx react<span class=\"token operator\">-</span>bundle <span class=\"token keyword\">in</span> <span class=\"token operator\">...</span><span class=\"token operator\">/</span>src <span class=\"token operator\">--</span><span class=\"token operator\">></span> react<span class=\"token operator\">-</span>bundle\nx <span class=\"token punctuation\">.</span><span class=\"token operator\">/</span>HelloWorld <span class=\"token keyword\">in</span> <span class=\"token operator\">...</span><span class=\"token operator\">/</span>src <span class=\"token operator\">--</span><span class=\"token operator\">></span> <span class=\"token operator\">...</span><span class=\"token operator\">/</span>src<span class=\"token operator\">/</span>HelloWorld<span class=\"token punctuation\">.</span>js\nx <span class=\"token punctuation\">.</span><span class=\"token operator\">/</span>BigText <span class=\"token keyword\">in</span> <span class=\"token operator\">...</span><span class=\"token operator\">/</span>src <span class=\"token operator\">--</span><span class=\"token operator\">></span> <span class=\"token operator\">...</span><span class=\"token operator\">/</span>src<span class=\"token operator\">/</span>BigText<span class=\"token punctuation\">.</span>js\nx <span class=\"token punctuation\">.</span><span class=\"token operator\">/</span>Lazy <span class=\"token keyword\">in</span> <span class=\"token operator\">...</span><span class=\"token operator\">/</span>src <span class=\"token operator\">--</span><span class=\"token operator\">></span> <span class=\"token operator\">...</span><span class=\"token operator\">/</span>src<span class=\"token operator\">/</span>Lazy<span class=\"token punctuation\">.</span>js</code></pre></div>\n<h3 id=\"ç¬¬äºŒæ­¥ç”ŸæˆåŒºå—å›¾chunk-graph\" style=\"position:relative;\"><a href=\"#%E7%AC%AC%E4%BA%8C%E6%AD%A5%E7%94%9F%E6%88%90%E5%8C%BA%E5%9D%97%E5%9B%BEchunk-graph\" aria-label=\"ç¬¬äºŒæ­¥ç”ŸæˆåŒºå—å›¾chunk graph permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>ç¬¬äºŒæ­¥ï¼šç”ŸæˆåŒºå—å›¾ï¼ˆchunk graphï¼‰</h3>\n<p>è¿™ä¸€æ­¥å°†å„ä¸ªæ¨¡å—åˆ†å‘åˆ°chunkä¸­ï¼Œchunk æœ‰ä¸¤ç§å½¢å¼ï¼š</p>\n<ul>\n<li><code class=\"language-text\">initial(åˆå§‹åŒ–)</code>Â æ˜¯å…¥å£èµ·ç‚¹çš„ main chunkã€‚æ­¤ chunk åŒ…å«ä¸ºå…¥å£èµ·ç‚¹æŒ‡å®šçš„æ‰€æœ‰æ¨¡å—åŠå…¶ä¾èµ–é¡¹ã€‚</li>\n<li><code class=\"language-text\">non-initial</code>Â æ˜¯å¯ä»¥å»¶è¿ŸåŠ è½½çš„å—ã€‚å¯èƒ½ä¼šå‡ºç°åœ¨ä½¿ç”¨Â <a href=\"https://webpack.docschina.org/guides/code-splitting/#dynamic-imports\">åŠ¨æ€å¯¼å…¥(dynamic imports)</a>Â æˆ–è€…Â <a href=\"https://webpack.docschina.org/plugins/split-chunks-plugin/\">SplitChunksPlugin</a>Â æ—¶ã€‚</li>\n</ul>\n<p>åˆ†å‘å®Œæ¯•å <code class=\"language-text\">chunk graph</code> å¦‚ä¸‹</p>\n<div class=\"gatsby-highlight\" data-language=\"jsx\"><pre class=\"language-jsx\"><code class=\"language-jsx\">ChunkGroups<span class=\"token operator\">:</span>\n\n<span class=\"token operator\">*</span> EntryPoint main\n  <span class=\"token operator\">+</span> Chunk main\n    <span class=\"token operator\">-</span> src<span class=\"token operator\">/</span>index<span class=\"token punctuation\">.</span>js\n    <span class=\"token operator\">-</span> react<span class=\"token operator\">-</span>bundle<span class=\"token punctuation\">.</span>js\n    <span class=\"token operator\">-</span> src<span class=\"token operator\">/</span>HelloWorld<span class=\"token punctuation\">.</span>js\n    <span class=\"token operator\">-</span> src<span class=\"token operator\">/</span>BigText<span class=\"token punctuation\">.</span>js\n<span class=\"token operator\">*</span> ChunkGroup <span class=\"token keyword\">async</span> <span class=\"token punctuation\">(</span>parent<span class=\"token operator\">:</span> main<span class=\"token punctuation\">)</span>\n  <span class=\"token operator\">+</span> Chunk asnyc\n    <span class=\"token operator\">-</span> src<span class=\"token operator\">/</span>Lazy<span class=\"token punctuation\">.</span>js\n\t\t<span class=\"token operator\">-</span> react<span class=\"token operator\">-</span>bundle<span class=\"token punctuation\">.</span>js\n\t\t<span class=\"token operator\">-</span> src<span class=\"token operator\">/</span>BigText<span class=\"token punctuation\">.</span>js</code></pre></div>\n<h3 id=\"ç¬¬ä¸‰æ­¥ä¼˜åŒ–å¯ç”¨æ¨¡å—optimize\" style=\"position:relative;\"><a href=\"#%E7%AC%AC%E4%B8%89%E6%AD%A5%E4%BC%98%E5%8C%96%E5%8F%AF%E7%94%A8%E6%A8%A1%E5%9D%97optimize\" aria-label=\"ç¬¬ä¸‰æ­¥ä¼˜åŒ–å¯ç”¨æ¨¡å—optimize permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>ç¬¬ä¸‰æ­¥ï¼šä¼˜åŒ–å¯ç”¨æ¨¡å—ï¼ˆoptimizeï¼‰</h3>\n<p>åœ¨ä¸Šä¸€æ­¥çš„åŸºç¡€ä¸Šï¼Œæˆ‘ä»¬ç»§ç»­ä¼˜åŒ–å¯ç”¨æ¨¡å—ï¼›åœ¨è¿™ä¸ªDemoä¸­ï¼Œè¿™ä¸€æ­¥çš„ä½œç”¨æ˜¯å‰”é™¤ <code class=\"language-text\">async</code> ä¸­å·²ç»å­˜åœ¨çš„ <code class=\"language-text\">module</code> ã€‚</p>\n<p><code class=\"language-text\">main chunk</code> ç”±äºæ˜¯å…¥å£ï¼Œæ— ä»»ä½•å·²è·å–çš„ <code class=\"language-text\">module</code>ï¼Œæ‰€ä»¥ä¸ºç©ºï¼›ä½†æ˜¯åˆ° <code class=\"language-text\">async chunk</code>ï¼Œåœ¨åŠ è½½è¿™ä¸ª <code class=\"language-text\">chunk</code> æ—¶æˆ‘ä»¬å·²ç»è·å–äº† <code class=\"language-text\">main chunk</code> ä¸­æ‰€æœ‰çš„ <code class=\"language-text\">module</code>ï¼Œæˆ‘ä»¬å¯ä»¥å°†å…¶ä¸­çš„ <code class=\"language-text\">module</code> éƒ½å¤åˆ¶åˆ° <code class=\"language-text\">async</code> çš„ <code class=\"language-text\">availableModules</code> ä¸­ï¼ŒåŒæ—¶å‰”é™¤é‡å¤å‡ºç°çš„ <code class=\"language-text\">react-bundle.js</code> å’Œ <code class=\"language-text\">src/BigText.js</code> ï¼Œä¼˜åŒ–å®Œæ¯•åçš„åŒºå—å›¾ï¼ˆ<code class=\"language-text\">chunk graph</code>ï¼‰å¦‚ä¸‹ï¼š</p>\n<div class=\"gatsby-highlight\" data-language=\"jsx\"><pre class=\"language-jsx\"><code class=\"language-jsx\">optimization<span class=\"token punctuation\">.</span>availableModules\n\nChunkGroups<span class=\"token operator\">:</span>\n\n<span class=\"token operator\">*</span> EntryPoint main\n    availableModules<span class=\"token operator\">:</span> <span class=\"token punctuation\">[</span><span class=\"token punctuation\">]</span>\n  <span class=\"token operator\">+</span> Chunk main\n    <span class=\"token operator\">-</span> src<span class=\"token operator\">/</span>index<span class=\"token punctuation\">.</span>js\n    <span class=\"token operator\">-</span> react<span class=\"token operator\">-</span>bundle<span class=\"token punctuation\">.</span>js\n    <span class=\"token operator\">-</span> src<span class=\"token operator\">/</span>HelloWorld<span class=\"token punctuation\">.</span>js\n    <span class=\"token operator\">-</span> src<span class=\"token operator\">/</span>BigText<span class=\"token punctuation\">.</span>js\n<span class=\"token operator\">*</span> ChunkGroup <span class=\"token keyword\">async</span> <span class=\"token punctuation\">(</span>parent<span class=\"token operator\">:</span> main<span class=\"token punctuation\">)</span>\n  availableModules<span class=\"token operator\">:</span>\n    <span class=\"token operator\">-</span> src<span class=\"token operator\">/</span>index<span class=\"token punctuation\">.</span>js\n    <span class=\"token operator\">-</span> react<span class=\"token operator\">-</span>bundle<span class=\"token punctuation\">.</span>js\n    <span class=\"token operator\">-</span> src<span class=\"token operator\">/</span>HelloWorld<span class=\"token punctuation\">.</span>js\n    <span class=\"token operator\">-</span> src<span class=\"token operator\">/</span>BigText<span class=\"token punctuation\">.</span>js\n  <span class=\"token operator\">+</span> Chunk async\n    <span class=\"token operator\">-</span> src<span class=\"token operator\">/</span>Lazy<span class=\"token punctuation\">.</span>js</code></pre></div>\n<h3 id=\"ç¬¬å››æ­¥ä¸²è”æ¨¡å—concatenate-modules\" style=\"position:relative;\"><a href=\"#%E7%AC%AC%E5%9B%9B%E6%AD%A5%E4%B8%B2%E8%81%94%E6%A8%A1%E5%9D%97concatenate-modules\" aria-label=\"ç¬¬å››æ­¥ä¸²è”æ¨¡å—concatenate modules permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>ç¬¬å››æ­¥ï¼šä¸²è”æ¨¡å—ï¼ˆconcatenate-modulesï¼‰</h3>\n<p>è¿™ä¸€æ­¥ä¼šæŒ‰ä»¥ä¸‹è§„åˆ™å°†æ¨¡å—ä¸²è”åˆ°ä¸€èµ·ï¼š</p>\n<p>é¦–å…ˆç¡®ä¿å…¥å£æ˜¯ <code class=\"language-text\">ESM</code> çš„è§„èŒƒï¼Œåœ¨æ­¤åŸºç¡€ä¸Šæ£€æŸ¥å®ƒçš„ä¾èµ–æ¨¡å—æ˜¯å¦ç¬¦åˆï¼š</p>\n<ol>\n<li>åŒæ ·ä¹Ÿæ˜¯ <code class=\"language-text\">ESM</code> è§„èŒƒ</li>\n<li>æ­£å¸¸çš„ <code class=\"language-text\">import</code> ï¼ˆä¸æ˜¯å¼‚æ­¥ <code class=\"language-text\">import</code> ï¼‰</li>\n<li>å¤„äºåŒä¸€ä¸ªåŒºå—ï¼ˆ<code class=\"language-text\">chunk</code>ï¼‰</li>\n<li>all importer must be included ï¼ˆè¿™æ¡æ²¡æ‡‚ï¼Œæ±‚è¯»è€…ç†è§£ï¼‰</li>\n</ol>\n<p>æœ€åä¸€æ¡è§„åˆ™æ˜¯å°è¯•æ‰€æœ‰çš„ä¾èµ–ï¼Œç»è¿‡ä»¥ä¸Šæ¡ä»¶ç­›é€‰åä»…æœ‰ <code class=\"language-text\">src/HelloWorld.js</code> ä¸ <code class=\"language-text\">src/index.js</code> åŒä¸º <code class=\"language-text\">ESM</code> è§„èŒƒï¼›<code class=\"language-text\">src/index.js</code> æ­£å¸¸å¼•ç”¨ <code class=\"language-text\">src/HelloWorld.js</code> ä¸”ä¸¤è€…å¤„äºåŒä¸€åŒºå—ï¼ˆ<code class=\"language-text\">chunk</code>ï¼‰ï¼Œå› æ­¤æˆ‘ä»¬å¯ä»¥å°†ä¸¤è€…ä¸²è”</p>\n<div class=\"gatsby-highlight\" data-language=\"jsx\"><pre class=\"language-jsx\"><code class=\"language-jsx\">Modules<span class=\"token operator\">:</span>\n\n<span class=\"token operator\">*</span> src<span class=\"token operator\">/</span>index<span class=\"token punctuation\">.</span><span class=\"token function\">js</span> <span class=\"token punctuation\">(</span><span class=\"token parameter\"><span class=\"token constant\">ESM</span></span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>main<span class=\"token punctuation\">}</span>\n    # react\n    # react<span class=\"token operator\">-</span>dom\n    # <span class=\"token punctuation\">.</span><span class=\"token operator\">/</span>HelloWorld\n    <span class=\"token operator\">-</span> react<span class=\"token operator\">-</span>bundle<span class=\"token punctuation\">.</span>js <span class=\"token operator\">&lt;</span><span class=\"token operator\">-</span> not <span class=\"token constant\">ESM</span>\n    <span class=\"token operator\">-</span> src<span class=\"token operator\">/</span>HelloWorld<span class=\"token punctuation\">.</span>js <span class=\"token operator\">&lt;</span><span class=\"token operator\">-</span> ok\n        <span class=\"token operator\">-</span> react<span class=\"token operator\">-</span>bundle<span class=\"token punctuation\">.</span>js <span class=\"token operator\">&lt;</span><span class=\"token operator\">-</span> not <span class=\"token constant\">ESM</span>\n        <span class=\"token operator\">-</span> src<span class=\"token operator\">/</span>BigText<span class=\"token punctuation\">.</span>js <span class=\"token operator\">&lt;</span><span class=\"token operator\">-</span> Lazy is not same chunks\n        <span class=\"token operator\">-</span> <span class=\"token punctuation\">(</span>async<span class=\"token punctuation\">)</span> src<span class=\"token operator\">/</span>Lazy<span class=\"token punctuation\">.</span>js <span class=\"token operator\">&lt;</span><span class=\"token operator\">-</span> not normal <span class=\"token keyword\">import</span>\nx react<span class=\"token operator\">-</span>bundle<span class=\"token punctuation\">.</span>js <span class=\"token punctuation\">{</span>main<span class=\"token punctuation\">}</span> <span class=\"token operator\">&lt;</span><span class=\"token operator\">-</span> not <span class=\"token constant\">ESM</span>\n<span class=\"token operator\">*</span> src<span class=\"token operator\">/</span>HelloWorld<span class=\"token punctuation\">.</span><span class=\"token function\">js</span> <span class=\"token punctuation\">(</span><span class=\"token parameter\"><span class=\"token constant\">ESM</span></span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>main<span class=\"token punctuation\">}</span>\n    # react\n    # <span class=\"token punctuation\">.</span><span class=\"token operator\">/</span>BigText\n    # <span class=\"token punctuation\">(</span>async<span class=\"token punctuation\">)</span> <span class=\"token punctuation\">.</span><span class=\"token operator\">/</span>Lazy\n    <span class=\"token operator\">-</span> react<span class=\"token operator\">-</span>bundle<span class=\"token punctuation\">.</span>js <span class=\"token operator\">&lt;</span><span class=\"token operator\">-</span> not <span class=\"token constant\">ESM</span>\n    <span class=\"token operator\">-</span> src<span class=\"token operator\">/</span>BigText<span class=\"token punctuation\">.</span>js <span class=\"token operator\">&lt;</span><span class=\"token operator\">-</span> Lazy is not same chunks\n    <span class=\"token operator\">-</span> <span class=\"token punctuation\">(</span>async<span class=\"token punctuation\">)</span> src<span class=\"token operator\">/</span>Lazy<span class=\"token punctuation\">.</span>js <span class=\"token operator\">&lt;</span><span class=\"token operator\">-</span> not normal <span class=\"token keyword\">import</span>\n<span class=\"token operator\">*</span> src<span class=\"token operator\">/</span>BigText<span class=\"token punctuation\">.</span><span class=\"token function\">js</span> <span class=\"token punctuation\">(</span><span class=\"token parameter\"><span class=\"token constant\">ESM</span></span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>main<span class=\"token punctuation\">}</span>\n    # react\n    <span class=\"token operator\">-</span> react<span class=\"token operator\">-</span>bundle<span class=\"token punctuation\">.</span>js <span class=\"token operator\">&lt;</span><span class=\"token operator\">-</span> not <span class=\"token constant\">ESM</span>\n<span class=\"token operator\">*</span> src<span class=\"token operator\">/</span>Lazy<span class=\"token punctuation\">.</span><span class=\"token function\">js</span> <span class=\"token punctuation\">(</span><span class=\"token parameter\"><span class=\"token constant\">ESM</span></span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>async<span class=\"token punctuation\">}</span>\n    # react\n    # <span class=\"token punctuation\">.</span><span class=\"token operator\">/</span>BigText\n    <span class=\"token operator\">-</span> react<span class=\"token operator\">-</span>bundle<span class=\"token punctuation\">.</span>js <span class=\"token operator\">&lt;</span><span class=\"token operator\">-</span> not <span class=\"token constant\">ESM</span>\n    <span class=\"token operator\">-</span> src<span class=\"token operator\">/</span>BigText<span class=\"token punctuation\">.</span>js <span class=\"token operator\">&lt;</span><span class=\"token operator\">-</span> not same chunks</code></pre></div>\n<p>ä¸²è”åæ¨¡å—ä¾èµ–å›¾ï¼ˆ <code class=\"language-text\">module graph</code> ï¼‰å˜ä¸ºå¦‚ä¸‹æ‰€ç¤ºï¼š</p>\n<div class=\"gatsby-highlight\" data-language=\"jsx\"><pre class=\"language-jsx\"><code class=\"language-jsx\"><span class=\"token operator\">*</span> src<span class=\"token operator\">/</span>index<span class=\"token punctuation\">.</span>js <span class=\"token operator\">+</span> <span class=\"token number\">1</span> module\n    # react\n    # react<span class=\"token operator\">-</span>dom\n    # <span class=\"token punctuation\">.</span><span class=\"token operator\">/</span>HelloWorld\n    # <span class=\"token punctuation\">.</span><span class=\"token operator\">/</span>BigText\n    # <span class=\"token punctuation\">(</span>async<span class=\"token punctuation\">)</span> <span class=\"token punctuation\">.</span><span class=\"token operator\">/</span>Lazy\n    <span class=\"token operator\">-</span> react<span class=\"token operator\">-</span>bundle<span class=\"token punctuation\">.</span>js\n    <span class=\"token operator\">-</span> src<span class=\"token operator\">/</span>HelloWorld<span class=\"token punctuation\">.</span>js\n    <span class=\"token operator\">-</span> src<span class=\"token operator\">/</span>BigText<span class=\"token punctuation\">.</span>js\n    <span class=\"token operator\">-</span> <span class=\"token punctuation\">(</span>async<span class=\"token punctuation\">)</span> src<span class=\"token operator\">/</span>Lazy<span class=\"token punctuation\">.</span>js\n    <span class=\"token operator\">+</span> src<span class=\"token operator\">/</span>index<span class=\"token punctuation\">.</span><span class=\"token function\">js</span> <span class=\"token punctuation\">(</span><span class=\"token constant\">ESM</span><span class=\"token punctuation\">)</span>\n    <span class=\"token operator\">+</span> src<span class=\"token operator\">/</span>HelloWorld<span class=\"token punctuation\">.</span><span class=\"token function\">js</span> <span class=\"token punctuation\">(</span><span class=\"token constant\">ESM</span><span class=\"token punctuation\">)</span>\n<span class=\"token operator\">*</span> react<span class=\"token operator\">-</span>bundle<span class=\"token punctuation\">.</span>js\n<span class=\"token operator\">*</span> src<span class=\"token operator\">/</span>BigText<span class=\"token punctuation\">.</span><span class=\"token function\">js</span> <span class=\"token punctuation\">(</span><span class=\"token constant\">ESM</span><span class=\"token punctuation\">)</span>\n    # react\n    <span class=\"token operator\">-</span> react<span class=\"token operator\">-</span>bundle<span class=\"token punctuation\">.</span>js\n<span class=\"token operator\">*</span> src<span class=\"token operator\">/</span>Lazy<span class=\"token punctuation\">.</span><span class=\"token function\">js</span> <span class=\"token punctuation\">(</span><span class=\"token constant\">ESM</span><span class=\"token punctuation\">)</span>\n    # react\n    # <span class=\"token punctuation\">.</span><span class=\"token operator\">/</span>BigText\n    <span class=\"token operator\">-</span> react<span class=\"token operator\">-</span>bundle<span class=\"token punctuation\">.</span>js\n    <span class=\"token operator\">-</span> src<span class=\"token operator\">/</span>BigText<span class=\"token punctuation\">.</span>js</code></pre></div>\n<h3 id=\"ç¬¬äº”æ­¥æ ‡å·\" style=\"position:relative;\"><a href=\"#%E7%AC%AC%E4%BA%94%E6%AD%A5%E6%A0%87%E5%8F%B7\" aria-label=\"ç¬¬äº”æ­¥æ ‡å· permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>ç¬¬äº”æ­¥ï¼šæ ‡å·</h3>\n<p>è¿™ä¸€æ­¥å°† <code class=\"language-text\">module</code> å’Œ <code class=\"language-text\">chunk</code> æŒ‰åºæ ‡è®°ï¼Œæ–¹ä¾¿åç»­å¼•ç”¨ï¼›å®é™… <code class=\"language-text\">wepback</code> æŒ‰ç…§ <code class=\"language-text\">production mode</code> è¿›è¡Œæ‰“åŒ…çš„äº§ç‰©ï¼Œä¹Ÿæ˜¯ä»¥æ•°å­—æ ‡è®°çš„ã€‚å¦‚æœæŒ‰ç…§ <code class=\"language-text\">development mode</code> æ‰“åŒ…åˆ™æ˜¯ä»¥è§£æçš„ç›¸å¯¹è·¯å¾„å‘½åçš„ã€‚</p>\n<div class=\"gatsby-highlight\" data-language=\"jsx\"><pre class=\"language-jsx\"><code class=\"language-jsx\">Modules<span class=\"token operator\">:</span>\n\n<span class=\"token operator\">*</span> <span class=\"token punctuation\">[</span><span class=\"token number\">0</span><span class=\"token punctuation\">]</span> src<span class=\"token operator\">/</span>index<span class=\"token punctuation\">.</span>js <span class=\"token operator\">+</span> <span class=\"token number\">1</span> module\n    # react\n    # react<span class=\"token operator\">-</span>dom\n    # <span class=\"token punctuation\">.</span><span class=\"token operator\">/</span>HelloWorld\n    # react\n    # <span class=\"token punctuation\">.</span><span class=\"token operator\">/</span>BigText\n    # <span class=\"token punctuation\">(</span>async<span class=\"token punctuation\">)</span> <span class=\"token punctuation\">.</span><span class=\"token operator\">/</span>Lazy\n    <span class=\"token operator\">-</span> react<span class=\"token operator\">-</span>bundle<span class=\"token punctuation\">.</span>js\n    <span class=\"token operator\">-</span> src<span class=\"token operator\">/</span>HelloWorld<span class=\"token punctuation\">.</span>js\n    <span class=\"token operator\">-</span> src<span class=\"token operator\">/</span>BigText<span class=\"token punctuation\">.</span>js\n    <span class=\"token operator\">-</span> <span class=\"token punctuation\">(</span>async<span class=\"token punctuation\">)</span> src<span class=\"token operator\">/</span>Lazy<span class=\"token punctuation\">.</span>js\n    <span class=\"token operator\">+</span> src<span class=\"token operator\">/</span>index<span class=\"token punctuation\">.</span><span class=\"token function\">js</span> <span class=\"token punctuation\">(</span><span class=\"token constant\">ESM</span><span class=\"token punctuation\">)</span>\n    <span class=\"token operator\">+</span> src<span class=\"token operator\">/</span>HelloWorld<span class=\"token punctuation\">.</span><span class=\"token function\">js</span> <span class=\"token punctuation\">(</span><span class=\"token constant\">ESM</span><span class=\"token punctuation\">)</span>\n<span class=\"token operator\">*</span> <span class=\"token punctuation\">[</span><span class=\"token number\">1</span><span class=\"token punctuation\">]</span> react<span class=\"token operator\">-</span>bundle<span class=\"token punctuation\">.</span>js\n<span class=\"token operator\">*</span> <span class=\"token punctuation\">[</span><span class=\"token number\">2</span><span class=\"token punctuation\">]</span> src<span class=\"token operator\">/</span>BigText<span class=\"token punctuation\">.</span><span class=\"token function\">js</span> <span class=\"token punctuation\">(</span><span class=\"token constant\">ESM</span><span class=\"token punctuation\">)</span>\n    # react\n    <span class=\"token operator\">-</span> react<span class=\"token operator\">-</span>bundle<span class=\"token punctuation\">.</span>js\n<span class=\"token operator\">*</span> <span class=\"token punctuation\">[</span><span class=\"token number\">3</span><span class=\"token punctuation\">]</span> src<span class=\"token operator\">/</span>Lazy<span class=\"token punctuation\">.</span><span class=\"token function\">js</span> <span class=\"token punctuation\">(</span><span class=\"token constant\">ESM</span><span class=\"token punctuation\">)</span>\n    # react\n    # <span class=\"token punctuation\">.</span><span class=\"token operator\">/</span>BigText\n    <span class=\"token operator\">-</span> react<span class=\"token operator\">-</span>bundle<span class=\"token punctuation\">.</span>js\n    <span class=\"token operator\">-</span> src<span class=\"token operator\">/</span>BigText<span class=\"token punctuation\">.</span>js\n\nChunkGroups<span class=\"token operator\">:</span>\n\n<span class=\"token operator\">*</span> EntryPoint main\n  <span class=\"token operator\">+</span> <span class=\"token punctuation\">[</span><span class=\"token number\">1</span><span class=\"token punctuation\">]</span> Chunk main\n    <span class=\"token operator\">-</span> src<span class=\"token operator\">/</span>index<span class=\"token punctuation\">.</span>js <span class=\"token operator\">+</span> <span class=\"token number\">1</span> modules\n    <span class=\"token operator\">-</span> react<span class=\"token operator\">-</span>bundle<span class=\"token punctuation\">.</span>js\n    <span class=\"token operator\">-</span> src<span class=\"token operator\">/</span>BigText<span class=\"token punctuation\">.</span>js\n<span class=\"token operator\">*</span> ChunkGroup <span class=\"token keyword\">async</span> <span class=\"token punctuation\">(</span>parent<span class=\"token operator\">:</span> main<span class=\"token punctuation\">)</span>\n  <span class=\"token operator\">+</span> <span class=\"token punctuation\">[</span><span class=\"token number\">0</span><span class=\"token punctuation\">]</span> Chunk async\n    <span class=\"token operator\">-</span> src<span class=\"token operator\">/</span>Lazy<span class=\"token punctuation\">.</span>js</code></pre></div>\n<h3 id=\"ç¬¬å…­æ­¥æ¨¡å—ä»£ç ç”Ÿæˆ-code-generation-modules\" style=\"position:relative;\"><a href=\"#%E7%AC%AC%E5%85%AD%E6%AD%A5%E6%A8%A1%E5%9D%97%E4%BB%A3%E7%A0%81%E7%94%9F%E6%88%90-code-generation-modules\" aria-label=\"ç¬¬å…­æ­¥æ¨¡å—ä»£ç ç”Ÿæˆ code generation modules permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>ç¬¬å…­æ­¥ï¼šæ¨¡å—ä»£ç ç”Ÿæˆ ï¼ˆcode-generation-modulesï¼‰</h3>\n<p>è¿™é‡Œæ˜¯<strong>å…³é”®</strong>çš„ä¸€æ­¥ï¼Œä»æ­¤å¤„å¼€å§‹å°†ä¼šå°†æ‰€æœ‰çš„ <code class=\"language-text\">module</code> åŒ…è£¹ä¸€å±‚<strong>è›‹æ¸…åŠ é¢åŒ…ç³ </strong>ç„¶åç‚¸è‡³é‡‘é»„ï¼ˆğŸ¶ï¼‰ï¼Œå®Œæˆåä¼šå°†æ‰€æœ‰æ¨¡å—æ‰“åŒ…è‡³ <code class=\"language-text\">chunk</code> ä¸­ï¼Œæ­¤å¤„å³ä¸º <code class=\"language-text\">demo</code> é‡Œç»™çš„ <code class=\"language-text\">runtime.js</code> å’Œ <code class=\"language-text\">chunk.js</code>ã€‚</p>\n<p>è¿™é‡Œçš„<strong>è›‹æ¸…åŠ é¢åŒ…ç³ </strong>ç”±äºå‰é¢é¢„å¤„ç† <code class=\"language-text\">react-bundle</code> æ—¶ä½¿ç”¨çš„æ˜¯ <code class=\"language-text\">commonjs2</code> è§„èŒƒï¼Œæ‰€ä»¥ä¸å…¶ç›¸å…³çš„ <code class=\"language-text\">runtime.js</code> ä¹Ÿè¦å’Œ <code class=\"language-text\">exports</code>ã€ <code class=\"language-text\">module</code> æ‰“äº¤é“ã€‚</p>\n<p><code class=\"language-text\">runtime.js</code> åœ¨æµè§ˆå™¨è¿è¡Œè¿‡ç¨‹ä¸­ï¼Œ<code class=\"language-text\">webpack</code> ç”¨æ¥è¿æ¥æ¨¡å—åŒ–åº”ç”¨ç¨‹åºæ‰€éœ€çš„æ‰€æœ‰ä»£ç ã€‚å®ƒåŒ…å«ï¼šåœ¨æ¨¡å—äº¤äº’æ—¶ï¼Œè¿æ¥æ¨¡å—æ‰€éœ€çš„åŠ è½½å’Œè§£æé€»è¾‘ã€‚å…¶å®æ— è®ºä½¿ç”¨ä»€ä¹ˆæ¨¡å—è§„èŒƒï¼Œæ‰€æœ‰çš„ <code class=\"language-text\">import</code> æˆ–è€… <code class=\"language-text\">require</code> ã€<code class=\"language-text\">define</code> éƒ½ä¼šè½¬å˜ä¸º <code class=\"language-text\">__webpack_require__</code> ï¼ˆæœ¬æ–‡æ—¢è§†é¢‘å’Œdemoä¸­æåˆ°çš„ <code class=\"language-text\">__magic__</code>ï¼‰ï¼Œé€šè¿‡ <code class=\"language-text\">__webpack_require__</code> å’Œå¯¹åº”çš„æ¨¡å—æ ‡è¯†ç¬¦ï¼ˆè¿™é‡Œæ˜¯ç¬¬äº”æ­¥æ ‡æ³¨çš„æ•°å­—ï¼‰æ¥æ‰¾åˆ°å¯¹åº”çš„æ¨¡å—</p>\n<p>åœ¨æ¨¡å—ä»£ç ç”Ÿæˆçš„è¿‡ç¨‹ä¸­å‚è€ƒçš„éƒ½æ˜¯å·²ç»åœ¨ç¬¬äº”æ­¥æ ‡å·å®Œçš„ <code class=\"language-text\">Module Graph</code> å’Œ <code class=\"language-text\">Chunk Graph</code>ã€‚</p>\n<p>é¦–å…ˆæˆ‘ä»¬å¤åˆ¶ç”±ç¬¬ä¸€æ­¥ <code class=\"language-text\">babel-loader</code> è½¬è¯‘çš„æ–‡ä»¶å¤¹åˆ°ç›®å½•ï¼Œä¾æ¬¡å¯¹å¦‚ä¸‹æ–‡ä»¶åšåŒ…è£…å¤„ç†ï¼š</p>\n<div class=\"gatsby-highlight\" data-language=\"jsx\"><pre class=\"language-jsx\"><code class=\"language-jsx\">one<span class=\"token operator\">-</span>day<span class=\"token operator\">-</span>bundler<span class=\"token operator\">/</span><span class=\"token number\">60</span><span class=\"token operator\">-</span>code<span class=\"token operator\">-</span>generation<span class=\"token operator\">-</span>modules<span class=\"token operator\">/</span>modules<span class=\"token operator\">/</span>src\nâ”œâ”€â”€ BigText<span class=\"token punctuation\">.</span>js\nâ”œâ”€â”€ HelloWorld<span class=\"token punctuation\">.</span>js\nâ”œâ”€â”€ Lazy<span class=\"token punctuation\">.</span>js\nâ””â”€â”€ index<span class=\"token punctuation\">.</span>js</code></pre></div>\n<p><code class=\"language-text\">BigText.js</code> ä¸­å¼•ç”¨ <code class=\"language-text\">React</code>ï¼Œæ ¹æ® <code class=\"language-text\">Module Graph</code> å¾—å‡ºä» <code class=\"language-text\">module [1]</code> å¾—åˆ°æ¨¡å—çš„å¯¼å‡ºå†…å®¹</p>\n<p>åŸ <code class=\"language-text\">BigText.js</code> ä¸­çš„å†…å®¹ï¼š</p>\n<div class=\"gatsby-highlight\" data-language=\"jsx\"><pre class=\"language-jsx\"><code class=\"language-jsx\"><span class=\"token keyword\">import</span> React <span class=\"token keyword\">from</span> <span class=\"token string\">\"react\"</span><span class=\"token punctuation\">;</span>\n\n<span class=\"token keyword\">export</span> <span class=\"token keyword\">default</span> <span class=\"token punctuation\">(</span><span class=\"token keyword\">function</span> <span class=\"token punctuation\">(</span><span class=\"token parameter\">_ref</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n    <span class=\"token keyword\">var</span> children <span class=\"token operator\">=</span> _ref<span class=\"token punctuation\">.</span>children<span class=\"token punctuation\">;</span>\n\n    <span class=\"token keyword\">return</span> React<span class=\"token punctuation\">.</span><span class=\"token function\">createElement</span><span class=\"token punctuation\">(</span>\n        <span class=\"token string\">\"h1\"</span><span class=\"token punctuation\">,</span>\n        <span class=\"token keyword\">null</span><span class=\"token punctuation\">,</span>\n        children\n    <span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n<span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></code></pre></div>\n<p>ä½¿ç”¨ä¸€ä¸ªé­”æœ¯æ–¹æ³• ï¼ˆè§†é¢‘ä¸­ä½œè€…ç§°ä¹‹ä¸º <code class=\"language-text\">__magic__</code>) å¯¹å…¶è¿›è¡Œæ”¹é€ ï¼Œå°†å…¶åŒ…è£…åœ¨ä¸€ä¸ªå‡½æ•°ä¸­å¹¶ä¸”ä¼ å…¥ <code class=\"language-text\">commonjs</code> è§„èŒƒå¯¼å‡ºæ¨¡å—æ‰€éœ€çš„ <code class=\"language-text\">exports</code> å¯¹è±¡ï¼›</p>\n<p>æ›¿æ¢ <code class=\"language-text\">import React from \"react\";</code> å˜ä¸º <code class=\"language-text\">var X = __magic__(1);</code></p>\n<p>è¿™é‡Œå€¼å¾—ä¸€æçš„æ˜¯ <code class=\"language-text\">ESM</code> çš„é»˜è®¤å¯¼å‡ºå†…å®¹ä¼šæŒ‚è½½åœ¨ <code class=\"language-text\">X.default</code> ä¸Šï¼Œå› æ­¤éœ€è¦æŠŠ <code class=\"language-text\">React</code> å˜é‡éƒ½æ›¿æ¢ä¸º <code class=\"language-text\">X.default</code></p>\n<p>æ›¿æ¢å®Œæ¯•åçš„å†…å®¹å¦‚ä¸‹ï¼š</p>\n<div class=\"gatsby-highlight\" data-language=\"jsx\"><pre class=\"language-jsx\"><code class=\"language-jsx\"><span class=\"token punctuation\">(</span><span class=\"token keyword\">function</span><span class=\"token punctuation\">(</span><span class=\"token parameter\">__magic__<span class=\"token punctuation\">,</span> exports</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n    <span class=\"token keyword\">var</span> <span class=\"token constant\">X</span> <span class=\"token operator\">=</span> <span class=\"token function\">__magic__</span><span class=\"token punctuation\">(</span><span class=\"token number\">1</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n\n    exports<span class=\"token punctuation\">.</span>default <span class=\"token operator\">=</span> <span class=\"token punctuation\">(</span><span class=\"token keyword\">function</span> <span class=\"token punctuation\">(</span><span class=\"token parameter\">_ref</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n        <span class=\"token keyword\">var</span> children <span class=\"token operator\">=</span> _ref<span class=\"token punctuation\">.</span>children<span class=\"token punctuation\">;</span>\n\n        <span class=\"token keyword\">return</span> <span class=\"token constant\">X</span><span class=\"token punctuation\">.</span>default<span class=\"token punctuation\">.</span><span class=\"token function\">createElement</span><span class=\"token punctuation\">(</span>\n            <span class=\"token string\">\"h1\"</span><span class=\"token punctuation\">,</span>\n            <span class=\"token keyword\">null</span><span class=\"token punctuation\">,</span>\n            children\n        <span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n    <span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n<span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span></code></pre></div>\n<p>æ¥ç€å¤„ç† <code class=\"language-text\">Lazy.js</code> ï¼Œä¸ <code class=\"language-text\">BigText.js</code> ç›¸ä¼¼ï¼Œå”¯ä¸€çš„ä¸åŒåœ¨äºå¤šå¯¼å…¥äº†ä¸€ä¸ª <code class=\"language-text\">BigText.js</code> ï¼ŒåŒ…è£…å®Œæ¯•åå¦‚ä¸‹ï¼š</p>\n<div class=\"gatsby-highlight\" data-language=\"jsx\"><pre class=\"language-jsx\"><code class=\"language-jsx\"><span class=\"token punctuation\">(</span><span class=\"token keyword\">function</span> <span class=\"token punctuation\">(</span><span class=\"token parameter\">__magic__<span class=\"token punctuation\">,</span> exports<span class=\"token punctuation\">,</span> module</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n    <span class=\"token keyword\">var</span> <span class=\"token constant\">X</span> <span class=\"token operator\">=</span> <span class=\"token function\">__magic__</span><span class=\"token punctuation\">(</span><span class=\"token number\">1</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n    <span class=\"token keyword\">var</span> <span class=\"token constant\">Y</span> <span class=\"token operator\">=</span> <span class=\"token function\">__magic__</span><span class=\"token punctuation\">(</span><span class=\"token number\">2</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n    \n    exports<span class=\"token punctuation\">.</span>default <span class=\"token operator\">=</span> <span class=\"token punctuation\">(</span><span class=\"token keyword\">function</span> <span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n        <span class=\"token keyword\">return</span> <span class=\"token constant\">X</span><span class=\"token punctuation\">.</span>default<span class=\"token punctuation\">.</span><span class=\"token function\">createElement</span><span class=\"token punctuation\">(</span>\n            <span class=\"token constant\">Y</span><span class=\"token punctuation\">.</span>default<span class=\"token punctuation\">,</span>\n            <span class=\"token keyword\">null</span><span class=\"token punctuation\">,</span>\n            <span class=\"token string\">\"Lazy Loaded!\"</span>\n        <span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n    <span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n<span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span></code></pre></div>\n<p>æœ€åéœ€è¦å¤„ç†çš„å°±æ˜¯ <code class=\"language-text\">index.js + 1 module</code> è¿™ä¸€éƒ¨åˆ†ï¼Œåœ¨ç¬¬å››æ­¥ä¸­å·²ç»é€šè¿‡ä¸²è”æ¨¡å—å°†<code class=\"language-text\">HelloWorld.js</code> å’Œ <code class=\"language-text\">index.js</code> åˆå¹¶åˆ°ä¸€èµ·äº†ï¼Œè¿™ä¸€éƒ¨åˆ†çš„ä»£ç æ¯”è¾ƒå¤šï¼Œä½†æ˜¯åšçš„äº‹æƒ…ä¸å‰é¢ä¸¤æ­¥æ²¡æœ‰ä»€ä¹ˆä¸åŒï¼Œä¾æ—§æ˜¯æ ¹æ® <code class=\"language-text\">import</code> çš„æ¥æºæ‰¾åˆ° <code class=\"language-text\">Module Graph</code> çš„åºå·ï¼Œç”¨ <code class=\"language-text\">__magic__</code> å¼•ç”¨åä½¿ç”¨ï¼Œå°†æ–‡ä»¶æ•´åˆå®Œæ¯•åå°±å¯ä»¥åˆ é™¤ <code class=\"language-text\">HelloWorld.js</code> äº†ã€‚</p>\n<p>å€¼å¾—ä¸€æçš„æ˜¯åœ¨ <code class=\"language-text\">31 è¡Œ</code> å‡ºç°çš„ï¼š</p>\n<div class=\"gatsby-highlight\" data-language=\"jsx\"><pre class=\"language-jsx\"><code class=\"language-jsx\"><span class=\"token keyword\">import</span><span class=\"token punctuation\">(</span> <span class=\"token comment\">/* webpackChunkName: \"async\" */</span><span class=\"token string\">\"./Lazy\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span><span class=\"token function\">then</span><span class=\"token punctuation\">(</span><span class=\"token keyword\">function</span> <span class=\"token punctuation\">(</span><span class=\"token parameter\">_ref</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span></code></pre></div>\n<p>è¿™é‡Œæ¶‰åŠåˆ°å¼‚æ­¥æ¨¡å—çš„åŠ è½½ï¼Œä¹Ÿå°±æ˜¯éœ€è¦ç¬¬äºŒä¸ª <code class=\"language-text\">chunk</code> çš„å‚ä¸ï¼Œå³å¯ä»¥å»¶è¿ŸåŠ è½½çš„ <code class=\"language-text\">async chunk</code> ï¼Œå…¶èƒŒåçš„æ ¸å¿ƒåŸç†å°±æ˜¯ <code class=\"language-text\">jsonp</code>ã€‚</p>\n<p>ä¸€èˆ¬æˆ‘ä»¬å¦‚ä½•å®ç°ä¸€ä¸ª <code class=\"language-text\">jsonp</code> ï¼ŸæŠ›å¼€ä¸€å †è¿‡æœŸæ—¶é—´ã€å›è°ƒåç§°ç­‰ç­‰çš„æ‹“å±•ï¼Œæ ¸å¿ƒçš„å†…å®¹æ— éå°±æ˜¯å¦‚ä¸‹æ‰€ç¤ºï¼š</p>\n<div class=\"gatsby-highlight\" data-language=\"jsx\"><pre class=\"language-jsx\"><code class=\"language-jsx\"><span class=\"token keyword\">var</span> script <span class=\"token operator\">=</span> document<span class=\"token punctuation\">.</span><span class=\"token function\">createElement</span><span class=\"token punctuation\">(</span><span class=\"token string\">'script'</span><span class=\"token punctuation\">)</span> <span class=\"token comment\">// åˆ›å»ºä¸€ä¸ªæ ‡ç­¾</span>\nscript<span class=\"token punctuation\">.</span>src <span class=\"token operator\">=</span> <span class=\"token string\">'urls'</span> <span class=\"token comment\">// æŒ‡å®šèµ„æºåœ°å€ï¼Œè¿™å³ä¸ºç¬¬äºŒä¸ªchunkåœ°å€</span>\ndocument<span class=\"token punctuation\">.</span>head<span class=\"token punctuation\">.</span><span class=\"token function\">appendChild</span><span class=\"token punctuation\">(</span>script<span class=\"token punctuation\">)</span> <span class=\"token comment\">// æ’å…¥æ–‡æ¡£ä¸­è§¦å‘åŠ è½½</span></code></pre></div>\n<p>é‚£å¦‚ä½•å®Œæˆ <code class=\"language-text\">31 è¡Œ</code> ä¸­å¯¹ <code class=\"language-text\">import( /* webpackChunkName: \"async\" */\"./Lazy\")</code> çš„æ”¹é€ å‘¢ï¼Ÿ</p>\n<p>æˆ‘ä»¬è§‚å¯Ÿåˆ°è¿™å¥åŠ¨æ€å¯¼å…¥è¯­å¥åä½¿ç”¨äº† <code class=\"language-text\">Promise.then</code> å®ä¾‹æ–¹æ³•ï¼Œäºæ˜¯è¿™ä¸ª <code class=\"language-text\">jsonp</code> çš„å®ç°åº”å½“ç”¨ <code class=\"language-text\">Promise</code> åŒ…è£…ä¸€ä¸‹ï¼Œå°† <code class=\"language-text\">resolve</code> çš„æ§åˆ¶æƒäº¤å‡ºï¼›åŒæ—¶åœ¨ <code class=\"language-text\">async chunk</code> ä¸­è°ƒç”¨ <code class=\"language-text\">resolve</code> å¹¶å°† <code class=\"language-text\">async chunk</code> ä¸­çš„æ¨¡å—éƒ½åŠ å…¥åˆ° <code class=\"language-text\">module</code>s ä¸­ã€‚</p>\n<p>è¿™äº›å·¥å…·å‡½æ•°éƒ½æ”¾ç½®åœ¨ <code class=\"language-text\">runtime.js</code> æ–‡ä»¶ä¸­ï¼Œæ ¸å¿ƒå®ç°å¦‚ä¸‹ï¼š</p>\n<div class=\"gatsby-highlight\" data-language=\"jsx\"><pre class=\"language-jsx\"><code class=\"language-jsx\">__magic__<span class=\"token punctuation\">.</span><span class=\"token function-variable function\">loadChunk</span> <span class=\"token operator\">=</span> <span class=\"token keyword\">function</span><span class=\"token punctuation\">(</span><span class=\"token parameter\">chunkId</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n    <span class=\"token keyword\">return</span> <span class=\"token keyword\">new</span> <span class=\"token class-name\">Promise</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">(</span><span class=\"token parameter\">resolve</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span> <span class=\"token punctuation\">{</span>\n        chunkResolves<span class=\"token punctuation\">[</span>chunkId<span class=\"token punctuation\">]</span> <span class=\"token operator\">=</span> resolve <span class=\"token comment\">// ç§»äº¤æ§åˆ¶æƒ</span>\n        <span class=\"token keyword\">var</span> script <span class=\"token operator\">=</span> document<span class=\"token punctuation\">.</span><span class=\"token function\">createElement</span><span class=\"token punctuation\">(</span><span class=\"token string\">'script'</span><span class=\"token punctuation\">)</span>\n        script<span class=\"token punctuation\">.</span>src <span class=\"token operator\">=</span> <span class=\"token string\">\"one-day-bundler/70-assets\"</span> <span class=\"token operator\">+</span> <span class=\"token punctuation\">{</span><span class=\"token number\">0</span><span class=\"token operator\">:</span> <span class=\"token string\">\"async\"</span><span class=\"token punctuation\">}</span><span class=\"token punctuation\">[</span>chunkId<span class=\"token punctuation\">]</span> <span class=\"token operator\">+</span> <span class=\"token string\">\".js\"</span><span class=\"token punctuation\">;</span>\n        document<span class=\"token punctuation\">.</span>head<span class=\"token punctuation\">.</span><span class=\"token function\">appendChild</span><span class=\"token punctuation\">(</span>script<span class=\"token punctuation\">)</span>\n    <span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span>\n<span class=\"token punctuation\">}</span>\n\nwindow<span class=\"token punctuation\">.</span><span class=\"token function-variable function\">magicJsonp</span> <span class=\"token operator\">=</span> <span class=\"token keyword\">function</span><span class=\"token punctuation\">(</span><span class=\"token parameter\">chunkId<span class=\"token punctuation\">,</span> newModules</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n    <span class=\"token keyword\">for</span> <span class=\"token punctuation\">(</span><span class=\"token keyword\">var</span> id <span class=\"token keyword\">in</span> newModules<span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n        modules<span class=\"token punctuation\">[</span>id<span class=\"token punctuation\">]</span> <span class=\"token operator\">=</span> newModules<span class=\"token punctuation\">[</span>id<span class=\"token punctuation\">]</span> <span class=\"token comment\">// å°†è¿™ä¸ªasync chunkçš„æ‰€æœ‰æ¨¡å—åŠ å…¥åˆ° modules</span>\n    <span class=\"token punctuation\">}</span>\n    chunkResolves<span class=\"token punctuation\">[</span>chunkId<span class=\"token punctuation\">]</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span> <span class=\"token comment\">// resolve è¿™æ¬¡ loadChunkï¼Œå®ŒæˆåŠ¨æ€å¯¼å…¥</span>\n<span class=\"token punctuation\">}</span></code></pre></div>\n<p>ç»è¿‡æ”¹é€ å <code class=\"language-text\">31 è¡Œ</code> çš„ä»£ç å°±å˜ä¸ºå¦‚ä¸‹</p>\n<div class=\"gatsby-highlight\" data-language=\"jsx\"><pre class=\"language-jsx\"><code class=\"language-jsx\">__magic__<span class=\"token punctuation\">.</span><span class=\"token function\">loadChunk</span><span class=\"token punctuation\">(</span><span class=\"token number\">0</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span><span class=\"token function\">then</span><span class=\"token punctuation\">(</span><span class=\"token function\">__magic__</span><span class=\"token punctuation\">.</span><span class=\"token function\">bind</span><span class=\"token punctuation\">(</span><span class=\"token keyword\">null</span><span class=\"token punctuation\">,</span> <span class=\"token number\">3</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span><span class=\"token function\">then</span><span class=\"token punctuation\">(</span><span class=\"token keyword\">function</span> <span class=\"token punctuation\">(</span><span class=\"token parameter\">_ref</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span></code></pre></div>\n<h3 id=\"ç¬¬ä¸ƒæ­¥èµ„æºæ•´åˆasstes\" style=\"position:relative;\"><a href=\"#%E7%AC%AC%E4%B8%83%E6%AD%A5%E8%B5%84%E6%BA%90%E6%95%B4%E5%90%88asstes\" aria-label=\"ç¬¬ä¸ƒæ­¥èµ„æºæ•´åˆasstes permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>ç¬¬ä¸ƒæ­¥ï¼šèµ„æºæ•´åˆï¼ˆasstesï¼‰</h3>\n<p>è¿™ä¸€æ­¥çš„ä¸»è¦å·¥ä½œå°±æ˜¯ç¼åˆæ€ªï¼ŒæŠŠç¬¬å…­æ­¥æ‰“åŒ…å‡ºæ¥çš„ <code class=\"language-text\">Modules</code> æ–‡ä»¶ä¸‹çš„å†…å®¹å¡«å……åˆ° <code class=\"language-text\">runtime</code> å’Œ <code class=\"language-text\">chunk</code> ä¸­ã€‚</p>\n<p><code class=\"language-text\">runtime</code> æ–‡ä»¶ï¼š</p>\n<div class=\"gatsby-highlight\" data-language=\"jsx\"><pre class=\"language-jsx\"><code class=\"language-jsx\"><span class=\"token operator\">!</span><span class=\"token punctuation\">(</span><span class=\"token keyword\">function</span> <span class=\"token punctuation\">(</span><span class=\"token parameter\">modules</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n    <span class=\"token keyword\">var</span> cache <span class=\"token operator\">=</span> <span class=\"token punctuation\">{</span><span class=\"token punctuation\">}</span> <span class=\"token comment\">// ç¼“å­˜</span>\n    <span class=\"token keyword\">var</span> chunkResolves <span class=\"token operator\">=</span> <span class=\"token punctuation\">{</span><span class=\"token punctuation\">}</span><span class=\"token punctuation\">;</span>\n\n    window<span class=\"token punctuation\">.</span><span class=\"token function-variable function\">magicJsonp</span> <span class=\"token operator\">=</span> <span class=\"token keyword\">function</span><span class=\"token punctuation\">(</span><span class=\"token parameter\">chunkId<span class=\"token punctuation\">,</span> newModules</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n        <span class=\"token keyword\">for</span> <span class=\"token punctuation\">(</span><span class=\"token keyword\">var</span> id <span class=\"token keyword\">in</span> newModules<span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n            modules<span class=\"token punctuation\">[</span>id<span class=\"token punctuation\">]</span> <span class=\"token operator\">=</span> newModules<span class=\"token punctuation\">[</span>id<span class=\"token punctuation\">]</span>\n        <span class=\"token punctuation\">}</span>\n        chunkResolves<span class=\"token punctuation\">[</span>chunkId<span class=\"token punctuation\">]</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n    <span class=\"token punctuation\">}</span>\n    <span class=\"token keyword\">function</span> <span class=\"token function\">__magic__</span><span class=\"token punctuation\">(</span><span class=\"token parameter\">id</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n        <span class=\"token keyword\">if</span><span class=\"token punctuation\">(</span>cache<span class=\"token punctuation\">[</span>id<span class=\"token punctuation\">]</span><span class=\"token punctuation\">)</span> <span class=\"token keyword\">return</span> cache<span class=\"token punctuation\">[</span>id<span class=\"token punctuation\">]</span><span class=\"token punctuation\">.</span>exports<span class=\"token punctuation\">;</span>\n        <span class=\"token keyword\">var</span> module <span class=\"token operator\">=</span> <span class=\"token punctuation\">{</span>\n            exports<span class=\"token operator\">:</span> <span class=\"token punctuation\">{</span><span class=\"token punctuation\">}</span>\n        <span class=\"token punctuation\">}</span><span class=\"token punctuation\">;</span>\n        modules<span class=\"token punctuation\">[</span>id<span class=\"token punctuation\">]</span><span class=\"token punctuation\">(</span>__magic__<span class=\"token punctuation\">,</span> exports<span class=\"token punctuation\">,</span> module<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n        cache<span class=\"token punctuation\">[</span>id<span class=\"token punctuation\">]</span> <span class=\"token operator\">=</span> module<span class=\"token punctuation\">;</span>\n        <span class=\"token keyword\">return</span> module<span class=\"token punctuation\">.</span>exports<span class=\"token punctuation\">;</span>\n    <span class=\"token punctuation\">}</span>\n    __magic__<span class=\"token punctuation\">.</span><span class=\"token function-variable function\">loadChunk</span> <span class=\"token operator\">=</span> <span class=\"token keyword\">function</span><span class=\"token punctuation\">(</span><span class=\"token parameter\">chunkId</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n        <span class=\"token keyword\">return</span> <span class=\"token keyword\">new</span> <span class=\"token class-name\">Promise</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">(</span><span class=\"token parameter\">resolve</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span> <span class=\"token punctuation\">{</span>\n            chunkResolves<span class=\"token punctuation\">[</span>chunkId<span class=\"token punctuation\">]</span> <span class=\"token operator\">=</span> resolve\n            <span class=\"token keyword\">var</span> script <span class=\"token operator\">=</span> document<span class=\"token punctuation\">.</span><span class=\"token function\">createElement</span><span class=\"token punctuation\">(</span><span class=\"token string\">'script'</span><span class=\"token punctuation\">)</span>\n            script<span class=\"token punctuation\">.</span>src <span class=\"token operator\">=</span> <span class=\"token string\">\"one-day-bundler/70-assets\"</span> <span class=\"token operator\">+</span> <span class=\"token punctuation\">{</span><span class=\"token number\">0</span><span class=\"token operator\">:</span> <span class=\"token string\">\"async\"</span><span class=\"token punctuation\">}</span><span class=\"token punctuation\">[</span>chunkId<span class=\"token punctuation\">]</span> <span class=\"token operator\">+</span> <span class=\"token string\">\".js\"</span><span class=\"token punctuation\">;</span>\n            document<span class=\"token punctuation\">.</span>head<span class=\"token punctuation\">.</span><span class=\"token function\">appendChild</span><span class=\"token punctuation\">(</span>script<span class=\"token punctuation\">)</span>\n        <span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span>\n    <span class=\"token punctuation\">}</span>\n\n    <span class=\"token function\">__magic__</span><span class=\"token punctuation\">(</span><span class=\"token number\">0</span><span class=\"token punctuation\">)</span> <span class=\"token comment\">// æ ¹å…¥å£ï¼Œmodule 0 å³ index.src + 1 module (HelloWorld)</span>\n<span class=\"token punctuation\">}</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">{</span>\n\t\t<span class=\"token comment\">// å³å°†å¡«å……çš„å†…å®¹ modules</span>\n\t<span class=\"token number\">0</span><span class=\"token operator\">:</span> <span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">,</span> <span class=\"token comment\">// modules/src/index.js å†…å®¹</span>\n\t<span class=\"token number\">1</span><span class=\"token operator\">:</span> <span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">,</span> <span class=\"token comment\">// modules/src/react-bundle.js å†…å®¹</span>\n\t<span class=\"token number\">2</span><span class=\"token operator\">:</span> <span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">,</span> <span class=\"token comment\">// modules/src/BigText.js å†…å®¹</span>\n<span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span></code></pre></div>\n<p><code class=\"language-text\">chunk</code> æ–‡ä»¶ï¼š</p>\n<div class=\"gatsby-highlight\" data-language=\"jsx\"><pre class=\"language-jsx\"><code class=\"language-jsx\">window<span class=\"token punctuation\">.</span><span class=\"token function\">magicJsonp</span><span class=\"token punctuation\">(</span><span class=\"token number\">0</span><span class=\"token punctuation\">,</span> <span class=\"token punctuation\">{</span>\n    <span class=\"token number\">3</span><span class=\"token operator\">:</span> <span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">,</span> <span class=\"token comment\">// modules/src/Lazy.js å†…å®¹</span>\n<span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></code></pre></div>\n<p>è¿™é‡Œè¿˜æœ‰ä¸€ä¸ªçŸ¥è¯†ç‚¹ï¼Œåœ¨ <code class=\"language-text\">index.js</code> çš„ <code class=\"language-text\">31è¡Œ</code> æœ‰ä¸ªè¿™æ ·çš„æ³¨é‡Š</p>\n<div class=\"gatsby-highlight\" data-language=\"jsx\"><pre class=\"language-jsx\"><code class=\"language-jsx\"><span class=\"token comment\">/* webpackChunkName: \"async\" */</span></code></pre></div>\n<p>æ‰€ä»¥éœ€è¦å°† <code class=\"language-text\">chunk</code> å‘½åä¸º <code class=\"language-text\">async</code>ï¼›åŒæ—¶æ ¹ç›®å½•çš„å…¥å£æ–‡ä»¶ <code class=\"language-text\">index.html</code> ä¸­å¼•ç”¨çš„æ˜¯ <code class=\"language-text\">main.js</code> ï¼Œæ‰€ä»¥ <code class=\"language-text\">runtime.js</code> ä¹Ÿéœ€è¦æ›´åã€‚</p>\n<p>ä¿®æ”¹å®Œæ¯•åï¼Œåœ¨æµè§ˆå™¨æ‰“å¼€ <code class=\"language-text\">index.html</code> æˆ‘ä»¬å°±èƒ½çœ‹åˆ°ä»¥ä¸‹å†…å®¹ï¼š</p>\n<p><span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 620px; \"\n    >\n      <a\n    class=\"gatsby-resp-image-link\"\n    href=\"/static/4096d881472568b04198865459bb0bbd/2a195/2.png\"\n    style=\"display: block\"\n    target=\"_blank\"\n    rel=\"noopener\"\n  >\n    <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 50.632911392405056%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAKCAYAAAC0VX7mAAAACXBIWXMAAAsTAAALEwEAmpwYAAABLUlEQVQoz52Sy8uCQBTF/bdt16JN0dalIUqhK0NapAtx0UqkdkKrCHuhPUQF8XU+5kItKgO/C4eZOzMc7v3N5R6PB/I8R1EUqOsaZVmhqiras5WpLEtUVf06/yUuTRN0iaZpft5zq9UKkiRhOp2SdF1HEARQVRXj8RimacK2bSiKAk3TqMqn8TdxnufRw9FohPl8DlEUsd1u4TgOZFkm48ViAcMwKH83+6gwy7JOLTNOT6OvhkmS0Id0jTaWHGvver3icDhgt9shDENSFEW0Mp77/R6u6+J4PGK9XmOz2byq/TC0LIsYDgYD4jiZTOD7PmazGfHr9XoYDofo9/vgeR6CIGC5XLYbXi4XquB2u+F8PpPY3J1OJ7AZvd/vpDiOKX/ObSvDNE3xn2hj+Aflme02SJz7qAAAAABJRU5ErkJggg=='); background-size: cover; display: block;\"\n  ></span>\n  <img\n        class=\"gatsby-resp-image-image\"\n        alt=\"https://s3-us-west-2.amazonaws.com/secure.notion-static.com/0bf1081c-17be-4404-8f88-a3a198e80896/Untitled.png\"\n        title=\"https://s3-us-west-2.amazonaws.com/secure.notion-static.com/0bf1081c-17be-4404-8f88-a3a198e80896/Untitled.png\"\n        src=\"/static/4096d881472568b04198865459bb0bbd/2a195/2.png\"\n        srcset=\"/static/4096d881472568b04198865459bb0bbd/c26ae/2.png 158w,\n/static/4096d881472568b04198865459bb0bbd/6bdcf/2.png 315w,\n/static/4096d881472568b04198865459bb0bbd/2a195/2.png 620w\"\n        sizes=\"(max-width: 620px) 100vw, 620px\"\n        style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\"\n        loading=\"lazy\"\n        decoding=\"async\"\n      />\n  </a>\n    </span></p>\n<h2 id=\"demoåœ°å€\" style=\"position:relative;\"><a href=\"#demo%E5%9C%B0%E5%9D%80\" aria-label=\"demoåœ°å€ permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>Demoåœ°å€</h2>\n<p>åŸä½œè€… demo åœ°å€ï¼š<a href=\"https://github.com/sokra/webpack-meetup-2018-05\">https://github.com/sokra/webpack-meetup-2018-05</a></p>\n<p>æœ¬æ–‡ Fork æ•´ç†åï¼š <a href=\"https://github.com/hemisu/webpack-meetup-2018-05\">https://github.com/hemisu/webpack-meetup-2018-05</a></p>\n<h2 id=\"å‚è€ƒé“¾æ¥\" style=\"position:relative;\"><a href=\"#%E5%8F%82%E8%80%83%E9%93%BE%E6%8E%A5\" aria-label=\"å‚è€ƒé“¾æ¥ permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>å‚è€ƒé“¾æ¥</h2>\n<p>[1]: Webpack founder Tobias Koppers demos bundling live by hand, <a href=\"https://www.youtube.com/watch?v=UNMkLHzofQI\">https://www.youtube.com/watch?v=UNMkLHzofQI</a></p>\n<p>[2]: webpack docs, <a href=\"https://webpack.docschina.org/\">https://webpack.docschina.org/</a></p>","tableOfContents":"<ul>\n<li>\n<p><a href=\"#demo%E4%BB%8B%E7%BB%8D\">Demoä»‹ç»</a></p>\n</li>\n<li>\n<p><a href=\"#%E6%89%8B%E5%8A%A8%E6%A8%A1%E6%8B%9F%E6%89%93%E5%8C%85%E6%B5%81%E7%A8%8B\">æ‰‹åŠ¨æ¨¡æ‹Ÿæ‰“åŒ…æµç¨‹</a></p>\n<ul>\n<li><a href=\"#%E7%AC%AC%E4%B8%80%E6%AD%A5%E7%94%9F%E6%88%90%E6%A8%A1%E5%9D%97%E4%BE%9D%E8%B5%96%E5%9B%BE-module-graph\">ç¬¬ä¸€æ­¥ï¼šç”Ÿæˆæ¨¡å—ä¾èµ–å›¾ ï¼ˆmodule-graphï¼‰</a></li>\n<li><a href=\"#%E7%AC%AC%E4%BA%8C%E6%AD%A5%E7%94%9F%E6%88%90%E5%8C%BA%E5%9D%97%E5%9B%BEchunk-graph\">ç¬¬äºŒæ­¥ï¼šç”ŸæˆåŒºå—å›¾ï¼ˆchunk graphï¼‰</a></li>\n<li><a href=\"#%E7%AC%AC%E4%B8%89%E6%AD%A5%E4%BC%98%E5%8C%96%E5%8F%AF%E7%94%A8%E6%A8%A1%E5%9D%97optimize\">ç¬¬ä¸‰æ­¥ï¼šä¼˜åŒ–å¯ç”¨æ¨¡å—ï¼ˆoptimizeï¼‰</a></li>\n<li><a href=\"#%E7%AC%AC%E5%9B%9B%E6%AD%A5%E4%B8%B2%E8%81%94%E6%A8%A1%E5%9D%97concatenate-modules\">ç¬¬å››æ­¥ï¼šä¸²è”æ¨¡å—ï¼ˆconcatenate-modulesï¼‰</a></li>\n<li><a href=\"#%E7%AC%AC%E4%BA%94%E6%AD%A5%E6%A0%87%E5%8F%B7\">ç¬¬äº”æ­¥ï¼šæ ‡å·</a></li>\n<li><a href=\"#%E7%AC%AC%E5%85%AD%E6%AD%A5%E6%A8%A1%E5%9D%97%E4%BB%A3%E7%A0%81%E7%94%9F%E6%88%90-code-generation-modules\">ç¬¬å…­æ­¥ï¼šæ¨¡å—ä»£ç ç”Ÿæˆ ï¼ˆcode-generation-modulesï¼‰</a></li>\n<li><a href=\"#%E7%AC%AC%E4%B8%83%E6%AD%A5%E8%B5%84%E6%BA%90%E6%95%B4%E5%90%88asstes\">ç¬¬ä¸ƒæ­¥ï¼šèµ„æºæ•´åˆï¼ˆasstesï¼‰</a></li>\n</ul>\n</li>\n<li>\n<p><a href=\"#demo%E5%9C%B0%E5%9D%80\">Demoåœ°å€</a></p>\n</li>\n<li>\n<p><a href=\"#%E5%8F%82%E8%80%83%E9%93%BE%E6%8E%A5\">å‚è€ƒé“¾æ¥</a></p>\n</li>\n</ul>","frontmatter":{"title":"webpackåŸç† - ä½œè€…æ•™ä½ æ‰‹æŠŠæ‰‹æ‰“åŒ…","date":"September 27, 2020","description":null}},"previous":{"fields":{"slug":"/old-posts/promise-pool/"},"frontmatter":{"title":"jså¼‚æ­¥åˆæ¢ - å›¾è§£å¹¶å‘æ§åˆ¶"}},"next":{"fields":{"slug":"/old-posts/learn-koa/"},"frontmatter":{"title":"é˜…è¯»ä¸‰å¤§æ¡†æ¶-koa"}}},"pageContext":{"id":"dabf4f24-d8be-5126-aa76-47fdc9ef0861","previousPostId":"7e002c77-fc4e-5f11-95b7-b6279b770e6c","nextPostId":"9065aae9-f1d2-500d-860c-c73fd56c34ff"}},
    "staticQueryHashes": ["2841359383","3257411868"]}