{
    "componentChunkName": "component---src-templates-blog-post-js",
    "path": "/old-posts/300/",
    "result": {"data":{"site":{"siteMetadata":{"title":"何米酥`s Blog"}},"markdownRemark":{"id":"31575611-8cb2-531a-8384-98b4d837f1c6","excerpt":"本章内容 DOM2和DOM3的变化 操作样式的DOM API DOM遍历与范围 DOM2 讲解核心、视图、样式、遍历和范围、DOM2级的HTML 事件在下一章 DOM3 XPath、加载与保存模块 DOM变化 以下代码确定是否支持这些DOM模块 命名空间 p308 如createElementsNS…","html":"<h1 id=\"本章内容\" style=\"position:relative;\"><a href=\"#%E6%9C%AC%E7%AB%A0%E5%86%85%E5%AE%B9\" aria-label=\"本章内容 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>本章内容</h1>\n<ul>\n<li>DOM2和DOM3的变化</li>\n<li>操作样式的DOM API</li>\n<li>DOM遍历与范围</li>\n</ul>\n<p>DOM2 讲解核心、视图、样式、遍历和范围、DOM2级的HTML</p>\n<p>事件在下一章</p>\n<p>DOM3 XPath、加载与保存模块</p>\n<!--more-->\n<h1 id=\"dom变化\" style=\"position:relative;\"><a href=\"#dom%E5%8F%98%E5%8C%96\" aria-label=\"dom变化 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>DOM变化</h1>\n<p>以下代码确定是否支持这些DOM模块</p>\n<div class=\"gatsby-highlight\" data-language=\"javascript\"><pre class=\"language-javascript\"><code class=\"language-javascript\"><span class=\"token keyword\">var</span> supportsDOM2Core <span class=\"token operator\">=</span> document<span class=\"token punctuation\">.</span>implementation<span class=\"token punctuation\">.</span><span class=\"token function\">hasFeature</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"Core\"</span><span class=\"token punctuation\">,</span> <span class=\"token string\">\"2.0\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n<span class=\"token keyword\">var</span> supportsDOM3Core <span class=\"token operator\">=</span> document<span class=\"token punctuation\">.</span>implementation<span class=\"token punctuation\">.</span><span class=\"token function\">hasFeature</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"Core\"</span><span class=\"token punctuation\">,</span> <span class=\"token string\">\"3.0\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n<span class=\"token keyword\">var</span> supportsDom2HTML <span class=\"token operator\">=</span> document<span class=\"token punctuation\">.</span>implementation<span class=\"token punctuation\">.</span><span class=\"token function\">hasFeature</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"HTML\"</span><span class=\"token punctuation\">,</span> <span class=\"token string\">\"2.0\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n<span class=\"token keyword\">var</span> supportsDOM2Views <span class=\"token operator\">=</span> document<span class=\"token punctuation\">.</span>implementation<span class=\"token punctuation\">.</span><span class=\"token function\">hasFeature</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"Views\"</span><span class=\"token punctuation\">,</span> <span class=\"token string\">\"2.0\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n<span class=\"token keyword\">var</span> supportsDOM2XML <span class=\"token operator\">=</span> document<span class=\"token punctuation\">.</span>implementation<span class=\"token punctuation\">.</span><span class=\"token function\">hasFeature</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"XML\"</span><span class=\"token punctuation\">,</span> <span class=\"token string\">\"2.0\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></code></pre></div>\n<h2 id=\"命名空间-p308\" style=\"position:relative;\"><a href=\"#%E5%91%BD%E5%90%8D%E7%A9%BA%E9%97%B4-p308\" aria-label=\"命名空间 p308 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>命名空间 p308</h2>\n<p>如createElementsNS(namespaceURI, tageName);</p>\n<h2 id=\"其他方面的变化\" style=\"position:relative;\"><a href=\"#%E5%85%B6%E4%BB%96%E6%96%B9%E9%9D%A2%E7%9A%84%E5%8F%98%E5%8C%96\" aria-label=\"其他方面的变化 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>其他方面的变化</h2>\n<h3 id=\"documenttype类型变化\" style=\"position:relative;\"><a href=\"#documenttype%E7%B1%BB%E5%9E%8B%E5%8F%98%E5%8C%96\" aria-label=\"documenttype类型变化 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>DocumentType类型变化</h3>\n<p>publicId、systemId和internalSubset</p>\n<h3 id=\"document类型的变化\" style=\"position:relative;\"><a href=\"#document%E7%B1%BB%E5%9E%8B%E7%9A%84%E5%8F%98%E5%8C%96\" aria-label=\"document类型的变化 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>Document类型的变化</h3>\n<p>importNode()可以从文档中取得一个节点，然后将其导入到另一个文档，使其称为这个文档结构的一部分。</p>\n<p>每个节点都有一个ownerDocument属性，表示所属的文档。</p>\n<p>importNode()方法和Element的cloneNode()相似，接收两个参数：要复制的节点和是否复制子节点的布尔值。返回的结果是原来节点的副本。</p>\n<p>defaultView属性保存着一个指针，指向拥有给定文档的窗口。IE和Opera有一个等价的parentWindow属性</p>\n<div class=\"gatsby-highlight\" data-language=\"javascript\"><pre class=\"language-javascript\"><code class=\"language-javascript\"><span class=\"token keyword\">var</span> parentWindow <span class=\"token operator\">=</span> document<span class=\"token punctuation\">.</span>defaultView <span class=\"token operator\">||</span> document<span class=\"token punctuation\">.</span>parentWindow<span class=\"token punctuation\">;</span></code></pre></div>\n<p>createDocumentType()、createDocument()</p>\n<p>document.implementation.createHTMLDocument(“title”);</p>\n<h3 id=\"node类型的变化\" style=\"position:relative;\"><a href=\"#node%E7%B1%BB%E5%9E%8B%E7%9A%84%E5%8F%98%E5%8C%96\" aria-label=\"node类型的变化 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>Node类型的变化</h3>\n<p>添加了isSupported()方法。</p>\n<p>setUserData()方法。</p>\n<h3 id=\"框架的变化\" style=\"position:relative;\"><a href=\"#%E6%A1%86%E6%9E%B6%E7%9A%84%E5%8F%98%E5%8C%96\" aria-label=\"框架的变化 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>框架的变化</h3>\n<p>可以通过contentDocument获取框架内容的文档对象。IE8之前不支持，但是有一个contentWindow属性。</p>\n<div class=\"gatsby-highlight\" data-language=\"javascript\"><pre class=\"language-javascript\"><code class=\"language-javascript\"><span class=\"token keyword\">var</span> iframe <span class=\"token operator\">=</span> document<span class=\"token punctuation\">.</span><span class=\"token function\">getElementById</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"myIframe\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n<span class=\"token keyword\">var</span> iframeDoc <span class=\"token operator\">=</span> iframe<span class=\"token punctuation\">.</span>contentDocument <span class=\"token operator\">||</span> iframe<span class=\"token punctuation\">.</span>contentWindow<span class=\"token punctuation\">.</span>document<span class=\"token punctuation\">;</span></code></pre></div>\n<h1 id=\"样式\" style=\"position:relative;\"><a href=\"#%E6%A0%B7%E5%BC%8F\" aria-label=\"样式 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>样式</h1>\n<h2 id=\"访问元素的样式\" style=\"position:relative;\"><a href=\"#%E8%AE%BF%E9%97%AE%E5%85%83%E7%B4%A0%E7%9A%84%E6%A0%B7%E5%BC%8F\" aria-label=\"访问元素的样式 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>访问元素的样式</h2>\n<p>支持style特性的HTML元素在JavaScript中都有一个对应的style属性。对于使用短划线的css属性，必须将其转换成驼峰大小写形式。</p>\n<p>如<code class=\"language-text\">background-image</code>就转化为<code class=\"language-text\">style.backgroundImage</code></p>\n<p>其中float是JavaScript的保留字，所以用<code class=\"language-text\">cssFloat</code>替代</p>\n<h2 id=\"操作样式表\" style=\"position:relative;\"><a href=\"#%E6%93%8D%E4%BD%9C%E6%A0%B7%E5%BC%8F%E8%A1%A8\" aria-label=\"操作样式表 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>操作样式表</h2>\n<h3 id=\"元素大小\" style=\"position:relative;\"><a href=\"#%E5%85%83%E7%B4%A0%E5%A4%A7%E5%B0%8F\" aria-label=\"元素大小 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>元素大小</h3>\n<div class=\"gatsby-highlight\" data-language=\"javascript\"><pre class=\"language-javascript\"><code class=\"language-javascript\"><span class=\"token keyword\">function</span> <span class=\"token function\">getElementLeft</span><span class=\"token punctuation\">(</span><span class=\"token parameter\">element</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">{</span>\n    <span class=\"token keyword\">var</span> actualLeft <span class=\"token operator\">=</span> element<span class=\"token punctuation\">.</span>offsetLeft<span class=\"token punctuation\">;</span>\n    <span class=\"token keyword\">var</span> current <span class=\"token operator\">=</span> element<span class=\"token punctuation\">.</span>offsetParent<span class=\"token punctuation\">;</span>\n    \n    <span class=\"token keyword\">while</span><span class=\"token punctuation\">(</span>current <span class=\"token operator\">!=</span> <span class=\"token keyword\">null</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">{</span>\n        actualLeft <span class=\"token operator\">+=</span> current<span class=\"token punctuation\">.</span>offsetLeft<span class=\"token punctuation\">;</span>\n        current<span class=\"token operator\">=</span> current<span class=\"token punctuation\">.</span>offsetParent<span class=\"token punctuation\">;</span>\n    <span class=\"token punctuation\">}</span>\n    \n    <span class=\"token keyword\">return</span> actuallLeft<span class=\"token punctuation\">;</span>\n<span class=\"token punctuation\">}</span></code></pre></div>\n<h3 id=\"客户区大小\" style=\"position:relative;\"><a href=\"#%E5%AE%A2%E6%88%B7%E5%8C%BA%E5%A4%A7%E5%B0%8F\" aria-label=\"客户区大小 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>客户区大小</h3>\n<p>客户区大小指的是元素内容及其内边距所占据的空间大小clientWidth和clientHeight。</p>\n<div class=\"gatsby-highlight\" data-language=\"javascript\"><pre class=\"language-javascript\"><code class=\"language-javascript\"><span class=\"token keyword\">function</span> <span class=\"token function\">getViewport</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">{</span>\n    <span class=\"token keyword\">if</span><span class=\"token punctuation\">(</span>document<span class=\"token punctuation\">.</span>compatMode <span class=\"token operator\">==</span> <span class=\"token string\">\"BackCompat\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">{</span>\n        <span class=\"token keyword\">return</span> <span class=\"token punctuation\">{</span>\n            width<span class=\"token operator\">:</span> document<span class=\"token punctuation\">.</span>body<span class=\"token punctuation\">.</span>clientWidth<span class=\"token punctuation\">,</span>\n            height<span class=\"token operator\">:</span> document<span class=\"token punctuation\">.</span>body<span class=\"token punctuation\">.</span>clientHeight\n        <span class=\"token punctuation\">}</span><span class=\"token punctuation\">;</span>\n    <span class=\"token punctuation\">}</span> <span class=\"token keyword\">else</span> <span class=\"token punctuation\">{</span>\n        <span class=\"token keyword\">return</span> <span class=\"token punctuation\">{</span>\n            width<span class=\"token operator\">:</span> document<span class=\"token punctuation\">.</span>documentElement<span class=\"token punctuation\">.</span>clientWidth<span class=\"token punctuation\">,</span>\n            height<span class=\"token operator\">:</span> document<span class=\"token punctuation\">.</span>documentElement<span class=\"token punctuation\">.</span>clientHeight\n        <span class=\"token punctuation\">}</span><span class=\"token punctuation\">;</span>\n    <span class=\"token punctuation\">}</span>\n<span class=\"token punctuation\">}</span></code></pre></div>\n<h3 id=\"滚动大小\" style=\"position:relative;\"><a href=\"#%E6%BB%9A%E5%8A%A8%E5%A4%A7%E5%B0%8F\" aria-label=\"滚动大小 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>滚动大小</h3>\n<p>css设置overflow属性</p>\n<ul>\n<li>scrollHeight 在没有滚动条的情况下，元素内容的高度</li>\n<li>scrollWidth 在没有滚动条的情况下，元素内容的总宽度</li>\n<li>scrollLeft 隐藏在内容区域左侧的像素数</li>\n<li>scrollTop 隐藏在内容区域上方的像素数</li>\n</ul>\n<p>在IE8及以前认为文档左上角坐标是(2,2)</p>\n<div class=\"gatsby-highlight\" data-language=\"javascript\"><pre class=\"language-javascript\"><code class=\"language-javascript\"><span class=\"token keyword\">function</span> <span class=\"token function\">getElementLeft</span><span class=\"token punctuation\">(</span><span class=\"token parameter\">element</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">{</span>\n    <span class=\"token keyword\">var</span> actualLeft <span class=\"token operator\">=</span> element<span class=\"token punctuation\">.</span>offsetLeft<span class=\"token punctuation\">;</span>\n    <span class=\"token keyword\">var</span> current <span class=\"token operator\">=</span> element<span class=\"token punctuation\">.</span>offsetParent<span class=\"token punctuation\">;</span>\n    \n    <span class=\"token keyword\">while</span> <span class=\"token punctuation\">(</span>current <span class=\"token operator\">!==</span> <span class=\"token keyword\">null</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">{</span>        \n        actualLeft <span class=\"token operator\">+=</span> current<span class=\"token punctuation\">.</span>offsetLeft<span class=\"token punctuation\">;</span>\n        current <span class=\"token operator\">=</span> current<span class=\"token punctuation\">.</span>offsetParent<span class=\"token punctuation\">;</span>\n    <span class=\"token punctuation\">}</span>\n    \n    <span class=\"token keyword\">return</span> actualLeft<span class=\"token punctuation\">;</span>\n<span class=\"token punctuation\">}</span>\n    \n<span class=\"token keyword\">function</span> <span class=\"token function\">getElementTop</span><span class=\"token punctuation\">(</span><span class=\"token parameter\">element</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">{</span>\n    <span class=\"token keyword\">var</span> actualTop <span class=\"token operator\">=</span> element<span class=\"token punctuation\">.</span>offsetTop<span class=\"token punctuation\">;</span>\n    <span class=\"token keyword\">var</span> current <span class=\"token operator\">=</span> element<span class=\"token punctuation\">.</span>offsetParent<span class=\"token punctuation\">;</span>\n\n    <span class=\"token keyword\">while</span> <span class=\"token punctuation\">(</span>current <span class=\"token operator\">!==</span> <span class=\"token keyword\">null</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">{</span>        \n        actualTop <span class=\"token operator\">+=</span> current<span class=\"token punctuation\">.</span> offsetTop<span class=\"token punctuation\">;</span>\n        current <span class=\"token operator\">=</span> current<span class=\"token punctuation\">.</span>offsetParent<span class=\"token punctuation\">;</span>\n    <span class=\"token punctuation\">}</span>\n\n    <span class=\"token keyword\">return</span> actualTop<span class=\"token punctuation\">;</span>\n<span class=\"token punctuation\">}</span>\n    \n<span class=\"token keyword\">function</span> <span class=\"token function\">getBoundingClientRect</span><span class=\"token punctuation\">(</span><span class=\"token parameter\">element</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">{</span>\n\n    <span class=\"token keyword\">var</span> scrollTop <span class=\"token operator\">=</span> document<span class=\"token punctuation\">.</span>documentElement<span class=\"token punctuation\">.</span>scrollTop<span class=\"token punctuation\">;</span>\n    <span class=\"token keyword\">var</span> scrollLeft <span class=\"token operator\">=</span> document<span class=\"token punctuation\">.</span>documentElement<span class=\"token punctuation\">.</span>scrollLeft<span class=\"token punctuation\">;</span>\n    \n    <span class=\"token keyword\">if</span> <span class=\"token punctuation\">(</span>element<span class=\"token punctuation\">.</span>getBoundingClientRect<span class=\"token punctuation\">)</span><span class=\"token punctuation\">{</span>\n        <span class=\"token keyword\">if</span> <span class=\"token punctuation\">(</span><span class=\"token keyword\">typeof</span> arguments<span class=\"token punctuation\">.</span>callee<span class=\"token punctuation\">.</span>offset <span class=\"token operator\">!=</span> <span class=\"token string\">\"number\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">{</span>\n            <span class=\"token keyword\">var</span> temp <span class=\"token operator\">=</span> document<span class=\"token punctuation\">.</span><span class=\"token function\">createElement</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"div\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n            temp<span class=\"token punctuation\">.</span>style<span class=\"token punctuation\">.</span>cssText <span class=\"token operator\">=</span> <span class=\"token string\">\"position:absolute;left:0;top:0;\"</span><span class=\"token punctuation\">;</span>\n            document<span class=\"token punctuation\">.</span>body<span class=\"token punctuation\">.</span><span class=\"token function\">appendChild</span><span class=\"token punctuation\">(</span>temp<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n            arguments<span class=\"token punctuation\">.</span>callee<span class=\"token punctuation\">.</span>offset <span class=\"token operator\">=</span> <span class=\"token operator\">-</span>temp<span class=\"token punctuation\">.</span><span class=\"token function\">getBoundingClientRect</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span>top <span class=\"token operator\">-</span> scrollTop<span class=\"token punctuation\">;</span>\n            document<span class=\"token punctuation\">.</span>body<span class=\"token punctuation\">.</span><span class=\"token function\">removeChild</span><span class=\"token punctuation\">(</span>temp<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n            temp <span class=\"token operator\">=</span> <span class=\"token keyword\">null</span><span class=\"token punctuation\">;</span>\n        <span class=\"token punctuation\">}</span>\n\n        <span class=\"token keyword\">var</span> rect <span class=\"token operator\">=</span> element<span class=\"token punctuation\">.</span><span class=\"token function\">getBoundingClientRect</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n        <span class=\"token keyword\">var</span> offset <span class=\"token operator\">=</span> arguments<span class=\"token punctuation\">.</span>callee<span class=\"token punctuation\">.</span>offset<span class=\"token punctuation\">;</span>\n\n        <span class=\"token keyword\">return</span> <span class=\"token punctuation\">{</span>\n            left<span class=\"token operator\">:</span> rect<span class=\"token punctuation\">.</span>left <span class=\"token operator\">+</span> offset<span class=\"token punctuation\">,</span>\n            right<span class=\"token operator\">:</span> rect<span class=\"token punctuation\">.</span>right <span class=\"token operator\">+</span> offset<span class=\"token punctuation\">,</span>\n            top<span class=\"token operator\">:</span> rect<span class=\"token punctuation\">.</span>top <span class=\"token operator\">+</span> offset<span class=\"token punctuation\">,</span>\n            bottom<span class=\"token operator\">:</span> rect<span class=\"token punctuation\">.</span>bottom <span class=\"token operator\">+</span> offset\n\n        <span class=\"token punctuation\">}</span><span class=\"token punctuation\">;</span>\n    <span class=\"token punctuation\">}</span> <span class=\"token keyword\">else</span> <span class=\"token punctuation\">{</span>\n\n        <span class=\"token keyword\">var</span> actualLeft <span class=\"token operator\">=</span> <span class=\"token function\">getElementLeft</span><span class=\"token punctuation\">(</span>element<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n        <span class=\"token keyword\">var</span> actualTop <span class=\"token operator\">=</span> <span class=\"token function\">getElementTop</span><span class=\"token punctuation\">(</span>element<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n\n       <span class=\"token keyword\">return</span> <span class=\"token punctuation\">{</span>\n            left<span class=\"token operator\">:</span> actualLeft <span class=\"token operator\">-</span> scrollLeft<span class=\"token punctuation\">,</span>\n            right<span class=\"token operator\">:</span> actualLeft <span class=\"token operator\">+</span> element<span class=\"token punctuation\">.</span>offsetWidth <span class=\"token operator\">-</span> scrollLeft<span class=\"token punctuation\">,</span>\n            top<span class=\"token operator\">:</span> actualTop <span class=\"token operator\">-</span> scrollTop<span class=\"token punctuation\">,</span>\n            bottom<span class=\"token operator\">:</span> actualTop <span class=\"token operator\">+</span> element<span class=\"token punctuation\">.</span>offsetHeight <span class=\"token operator\">-</span> scrollTop\n        <span class=\"token punctuation\">}</span>\n    <span class=\"token punctuation\">}</span>\n<span class=\"token punctuation\">}</span></code></pre></div>\n<h1 id=\"遍历\" style=\"position:relative;\"><a href=\"#%E9%81%8D%E5%8E%86\" aria-label=\"遍历 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>遍历</h1>\n<p>NodeIterator和TreeWalker可以对基于给定的起点对DOM结构执行深度优先的遍历操作。</p>\n<h2 id=\"nodeiterator\" style=\"position:relative;\"><a href=\"#nodeiterator\" aria-label=\"nodeiterator permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>NodeIterator</h2>\n<p>可以使用document.createNodeIterator()方法创建实例，接收4个参数。</p>\n<ul>\n<li>root 起点</li>\n<li>whatToShow 访问哪些节点的数字代码</li>\n<li>filter NodeFilter对象</li>\n<li>entityReferenceExpansion boolean值，表示是否要拓展实体引用</li>\n</ul>\n<p>下列代码展示了如何创建一个只显示p元素的节点迭代器</p>\n<div class=\"gatsby-highlight\" data-language=\"javascript\"><pre class=\"language-javascript\"><code class=\"language-javascript\"><span class=\"token keyword\">var</span> filter <span class=\"token operator\">=</span> <span class=\"token punctuation\">{</span>\n    <span class=\"token function-variable function\">acceptNode</span><span class=\"token operator\">:</span> <span class=\"token keyword\">function</span><span class=\"token punctuation\">(</span><span class=\"token parameter\">node</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">{</span>\n        <span class=\"token keyword\">return</span> node<span class=\"token punctuation\">.</span>tagName<span class=\"token punctuation\">.</span><span class=\"token function\">toLowerCase</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">==</span> <span class=\"token string\">\"p\"</span> <span class=\"token operator\">?</span>\n        NodeFilter<span class=\"token punctuation\">.</span><span class=\"token constant\">FILTER_ACCEPT</span> <span class=\"token operator\">:</span>\n        NodeFIlter<span class=\"token punctuation\">.</span><span class=\"token constant\">FILTER_SKIP</span><span class=\"token punctuation\">;</span>\n    <span class=\"token punctuation\">}</span>\n<span class=\"token punctuation\">}</span>\n\n<span class=\"token keyword\">var</span> iterator <span class=\"token operator\">=</span> document<span class=\"token punctuation\">.</span><span class=\"token function\">createNodeIterator</span><span class=\"token punctuation\">(</span>root<span class=\"token punctuation\">,</span> NodeFilter<span class=\"token punctuation\">.</span><span class=\"token constant\">SHOW_ELEMENT</span><span class=\"token punctuation\">,</span>filter<span class=\"token punctuation\">,</span><span class=\"token boolean\">false</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></code></pre></div>\n<h2 id=\"treewalker\" style=\"position:relative;\"><a href=\"#treewalker\" aria-label=\"treewalker permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>TreeWalker</h2>\n<p>这是比NodeIterator更高级的版本。除了nextNode()和previousNode()在内的相同功能之外还提供其他方法。</p>\n<ul>\n<li>parentNode()</li>\n<li>firstChild()</li>\n<li>lastChild()</li>\n<li>nextSibling()</li>\n<li>previousSibling()</li>\n</ul>\n<h1 id=\"范围\" style=\"position:relative;\"><a href=\"#%E8%8C%83%E5%9B%B4\" aria-label=\"范围 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>范围</h1>\n<h2 id=\"dom中的范围\" style=\"position:relative;\"><a href=\"#dom%E4%B8%AD%E7%9A%84%E8%8C%83%E5%9B%B4\" aria-label=\"dom中的范围 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>DOM中的范围</h2>\n<p>createRange()方法创建范围。</p>\n<div class=\"gatsby-highlight\" data-language=\"javascript\"><pre class=\"language-javascript\"><code class=\"language-javascript\"><span class=\"token keyword\">var</span> range <span class=\"token operator\">=</span> document<span class=\"token punctuation\">.</span><span class=\"token function\">createRange</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></code></pre></div>\n<h3 id=\"简单选择\" style=\"position:relative;\"><a href=\"#%E7%AE%80%E5%8D%95%E9%80%89%E6%8B%A9\" aria-label=\"简单选择 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>简单选择</h3>\n<ul>\n<li>selectNode() 选择整个节点</li>\n<li>selectNodeContents() 选择节点的子节点</li>\n</ul>\n<p>以下面的HTML代码为例</p>\n<div class=\"gatsby-highlight\" data-language=\"html\"><pre class=\"language-html\"><code class=\"language-html\"><span class=\"token doctype\"><span class=\"token punctuation\">&lt;!</span><span class=\"token doctype-tag\">DOCTYPE</span> <span class=\"token name\">html</span><span class=\"token punctuation\">></span></span>\n<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>html</span><span class=\"token punctuation\">></span></span>\n    <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>body</span><span class=\"token punctuation\">></span></span>\n        <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>p</span> <span class=\"token attr-name\">id</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>p1<span class=\"token punctuation\">\"</span></span><span class=\"token punctuation\">></span></span><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>b</span><span class=\"token punctuation\">></span></span>Hello<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>b</span><span class=\"token punctuation\">></span></span> world!<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>p</span><span class=\"token punctuation\">></span></span>\n    <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>body</span><span class=\"token punctuation\">></span></span>\n<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>html</span><span class=\"token punctuation\">></span></span></code></pre></div>\n<div class=\"gatsby-highlight\" data-language=\"javascript\"><pre class=\"language-javascript\"><code class=\"language-javascript\"><span class=\"token keyword\">var</span> range1 <span class=\"token operator\">=</span> document<span class=\"token punctuation\">.</span><span class=\"token function\">createRange</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n<span class=\"token keyword\">var</span> range2 <span class=\"token operator\">=</span> document<span class=\"token punctuation\">.</span><span class=\"token function\">createRange</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n<span class=\"token keyword\">var</span> p1 <span class=\"token operator\">=</span> document<span class=\"token punctuation\">.</span><span class=\"token function\">getElementById</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"p1\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\nrange1<span class=\"token punctuation\">.</span><span class=\"token function\">selectNode</span><span class=\"token punctuation\">(</span>p1<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\nrange2<span class=\"token punctuation\">.</span><span class=\"token function\">selectNodeContents</span><span class=\"token punctuation\">(</span>p1<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></code></pre></div>\n<h3 id=\"复杂选择\" style=\"position:relative;\"><a href=\"#%E5%A4%8D%E6%9D%82%E9%80%89%E6%8B%A9\" aria-label=\"复杂选择 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>复杂选择</h3>\n<p>setStart()和setEnd()方法</p>\n<div class=\"gatsby-highlight\" data-language=\"html\"><pre class=\"language-html\"><code class=\"language-html\"><span class=\"token doctype\"><span class=\"token punctuation\">&lt;!</span><span class=\"token doctype-tag\">DOCTYPE</span> <span class=\"token name\">html</span><span class=\"token punctuation\">></span></span>\n<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>html</span><span class=\"token punctuation\">></span></span>\n    <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>body</span><span class=\"token punctuation\">></span></span>\n        <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>p</span> <span class=\"token attr-name\">id</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>p1<span class=\"token punctuation\">\"</span></span><span class=\"token punctuation\">></span></span><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>b</span><span class=\"token punctuation\">></span></span>Hello<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>b</span><span class=\"token punctuation\">></span></span> world!<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>p</span><span class=\"token punctuation\">></span></span>\n    <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>body</span><span class=\"token punctuation\">></span></span>\n<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>html</span><span class=\"token punctuation\">></span></span></code></pre></div>\n<div class=\"gatsby-highlight\" data-language=\"javascript\"><pre class=\"language-javascript\"><code class=\"language-javascript\"><span class=\"token keyword\">var</span> p1 <span class=\"token operator\">=</span> document<span class=\"token punctuation\">.</span><span class=\"token function\">getElementById</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"p1\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\nhelloNode <span class=\"token operator\">=</span> p1<span class=\"token punctuation\">.</span>firstChild<span class=\"token punctuation\">.</span>firstChild<span class=\"token punctuation\">;</span>\nworldNode <span class=\"token operator\">=</span> p1<span class=\"token punctuation\">.</span>lastChild<span class=\"token punctuation\">;</span>\n\n<span class=\"token keyword\">var</span> range <span class=\"token operator\">=</span> document<span class=\"token punctuation\">.</span><span class=\"token function\">createRange</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\nrange<span class=\"token punctuation\">.</span><span class=\"token function\">setStart</span><span class=\"token punctuation\">(</span>helloNode<span class=\"token punctuation\">,</span><span class=\"token number\">2</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\nrange<span class=\"token punctuation\">.</span><span class=\"token function\">setEnd</span><span class=\"token punctuation\">(</span>worldNode<span class=\"token punctuation\">,</span><span class=\"token number\">3</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span><span class=\"token comment\">//空格0 w是1 o是2 l是3</span></code></pre></div>\n<p>就可以选择从llo到world中的o部分了</p>\n<h3 id=\"操作dom范围里的内容\" style=\"position:relative;\"><a href=\"#%E6%93%8D%E4%BD%9Cdom%E8%8C%83%E5%9B%B4%E9%87%8C%E7%9A%84%E5%86%85%E5%AE%B9\" aria-label=\"操作dom范围里的内容 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>操作dom范围里的内容</h3>\n<p>deleteContents();\n范围选区会在修改底层DOM时保证格式良好，执行上面这句以后，被复杂选择的html代码如下。</p>\n<div class=\"gatsby-highlight\" data-language=\"html\"><pre class=\"language-html\"><code class=\"language-html\">...\n    <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>p</span><span class=\"token punctuation\">></span></span><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>b</span><span class=\"token punctuation\">></span></span>He<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>n</span><span class=\"token punctuation\">></span></span> rld!<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>p</span><span class=\"token punctuation\">></span></span>\n...</code></pre></div>\n<p>extractContents()</p>\n<p>cloneContents()</p>\n<h3 id=\"插入内容\" style=\"position:relative;\"><a href=\"#%E6%8F%92%E5%85%A5%E5%86%85%E5%AE%B9\" aria-label=\"插入内容 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>插入内容</h3>\n<p>insertNode()可以向范围选区的开始处插入一个节点。</p>\n<p>围绕范围插入内容:</p>\n<div class=\"gatsby-highlight\" data-language=\"javascript\"><pre class=\"language-javascript\"><code class=\"language-javascript\"><span class=\"token keyword\">var</span> p1 <span class=\"token operator\">=</span> document<span class=\"token punctuation\">.</span><span class=\"token function\">getElementById</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"p1\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\nhelloNode <span class=\"token operator\">=</span> p1<span class=\"token punctuation\">.</span>firstChild<span class=\"token punctuation\">.</span>firstChild<span class=\"token punctuation\">;</span>\nworldNode <span class=\"token operator\">=</span> p1<span class=\"token punctuation\">.</span>lastChild<span class=\"token punctuation\">;</span>\nrange <span class=\"token operator\">=</span> document<span class=\"token punctuation\">.</span><span class=\"token function\">createRange</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n\nrange<span class=\"token punctuation\">.</span><span class=\"token function\">selectNode</span><span class=\"token punctuation\">(</span>helloNode<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n\n<span class=\"token keyword\">var</span> span <span class=\"token operator\">=</span> document<span class=\"token punctuation\">.</span><span class=\"token function\">createElement</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"span\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\nspan<span class=\"token punctuation\">.</span>style<span class=\"token punctuation\">.</span>backgroundColor <span class=\"token operator\">=</span> <span class=\"token string\">\"yello\"</span><span class=\"token punctuation\">;</span>\nrange<span class=\"token punctuation\">.</span><span class=\"token function\">surroundContents</span><span class=\"token punctuation\">(</span>span<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></code></pre></div>\n<h3 id=\"折叠dom范围\" style=\"position:relative;\"><a href=\"#%E6%8A%98%E5%8F%A0dom%E8%8C%83%E5%9B%B4\" aria-label=\"折叠dom范围 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>折叠DOM范围</h3>\n<p>collapse(boolean), true表示折叠到范的起点，false折叠到范围的终点。</p>\n<h3 id=\"清理dom范围\" style=\"position:relative;\"><a href=\"#%E6%B8%85%E7%90%86dom%E8%8C%83%E5%9B%B4\" aria-label=\"清理dom范围 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>清理DOM范围</h3>\n<p>调用detac()方法，从创建范围的文档中分离出该范围。</p>\n<h1 id=\"总结\" style=\"position:relative;\"><a href=\"#%E6%80%BB%E7%BB%93\" aria-label=\"总结 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>总结</h1>\n<ul>\n<li>xml命名空间</li>\n<li>document实例</li>\n</ul>\n<p>DOM2样式</p>\n<ul>\n<li>每个元素都有style对象，用来确定和修改行内的样式</li>\n<li>计算样式 getComputedStyle()</li>\n<li>IE中用currentStyle属性</li>\n<li>document.stytleSheets集合访问样式表</li>\n</ul>\n<p>DOM2遍历和范围</p>\n<ul>\n<li>遍历使用NodeIterator和TreeWalker</li>\n<li>范围是选择DOM结构中特定部分然后再执行相应操作的一种手段。</li>\n</ul>","tableOfContents":"<ul>\n<li>\n<p><a href=\"#%E6%9C%AC%E7%AB%A0%E5%86%85%E5%AE%B9\">本章内容</a></p>\n</li>\n<li>\n<p><a href=\"#dom%E5%8F%98%E5%8C%96\">DOM变化</a></p>\n<ul>\n<li>\n<p><a href=\"#%E5%91%BD%E5%90%8D%E7%A9%BA%E9%97%B4-p308\">命名空间 p308</a></p>\n</li>\n<li>\n<p><a href=\"#%E5%85%B6%E4%BB%96%E6%96%B9%E9%9D%A2%E7%9A%84%E5%8F%98%E5%8C%96\">其他方面的变化</a></p>\n<ul>\n<li><a href=\"#documenttype%E7%B1%BB%E5%9E%8B%E5%8F%98%E5%8C%96\">DocumentType类型变化</a></li>\n<li><a href=\"#document%E7%B1%BB%E5%9E%8B%E7%9A%84%E5%8F%98%E5%8C%96\">Document类型的变化</a></li>\n<li><a href=\"#node%E7%B1%BB%E5%9E%8B%E7%9A%84%E5%8F%98%E5%8C%96\">Node类型的变化</a></li>\n<li><a href=\"#%E6%A1%86%E6%9E%B6%E7%9A%84%E5%8F%98%E5%8C%96\">框架的变化</a></li>\n</ul>\n</li>\n</ul>\n</li>\n<li>\n<p><a href=\"#%E6%A0%B7%E5%BC%8F\">样式</a></p>\n<ul>\n<li>\n<p><a href=\"#%E8%AE%BF%E9%97%AE%E5%85%83%E7%B4%A0%E7%9A%84%E6%A0%B7%E5%BC%8F\">访问元素的样式</a></p>\n</li>\n<li>\n<p><a href=\"#%E6%93%8D%E4%BD%9C%E6%A0%B7%E5%BC%8F%E8%A1%A8\">操作样式表</a></p>\n<ul>\n<li><a href=\"#%E5%85%83%E7%B4%A0%E5%A4%A7%E5%B0%8F\">元素大小</a></li>\n<li><a href=\"#%E5%AE%A2%E6%88%B7%E5%8C%BA%E5%A4%A7%E5%B0%8F\">客户区大小</a></li>\n<li><a href=\"#%E6%BB%9A%E5%8A%A8%E5%A4%A7%E5%B0%8F\">滚动大小</a></li>\n</ul>\n</li>\n</ul>\n</li>\n<li>\n<p><a href=\"#%E9%81%8D%E5%8E%86\">遍历</a></p>\n<ul>\n<li><a href=\"#nodeiterator\">NodeIterator</a></li>\n<li><a href=\"#treewalker\">TreeWalker</a></li>\n</ul>\n</li>\n<li>\n<p><a href=\"#%E8%8C%83%E5%9B%B4\">范围</a></p>\n<ul>\n<li>\n<p><a href=\"#dom%E4%B8%AD%E7%9A%84%E8%8C%83%E5%9B%B4\">DOM中的范围</a></p>\n<ul>\n<li><a href=\"#%E7%AE%80%E5%8D%95%E9%80%89%E6%8B%A9\">简单选择</a></li>\n<li><a href=\"#%E5%A4%8D%E6%9D%82%E9%80%89%E6%8B%A9\">复杂选择</a></li>\n<li><a href=\"#%E6%93%8D%E4%BD%9Cdom%E8%8C%83%E5%9B%B4%E9%87%8C%E7%9A%84%E5%86%85%E5%AE%B9\">操作dom范围里的内容</a></li>\n<li><a href=\"#%E6%8F%92%E5%85%A5%E5%86%85%E5%AE%B9\">插入内容</a></li>\n<li><a href=\"#%E6%8A%98%E5%8F%A0dom%E8%8C%83%E5%9B%B4\">折叠DOM范围</a></li>\n<li><a href=\"#%E6%B8%85%E7%90%86dom%E8%8C%83%E5%9B%B4\">清理DOM范围</a></li>\n</ul>\n</li>\n</ul>\n</li>\n<li>\n<p><a href=\"#%E6%80%BB%E7%BB%93\">总结</a></p>\n</li>\n</ul>","frontmatter":{"title":"js高程读书笔记 第十二章 DOM2和DOM3","date":"August 15, 2017","description":null}},"previous":{"fields":{"slug":"/old-posts/298/"},"frontmatter":{"title":"js高程读书笔记 第十一章 DOM拓展"}},"next":{"fields":{"slug":"/old-posts/302/"},"frontmatter":{"title":"js高程读书笔记 第13章 事件"}}},"pageContext":{"id":"31575611-8cb2-531a-8384-98b4d837f1c6","previousPostId":"497fecb4-e219-5ae0-bab8-0f757fe342bb","nextPostId":"20379467-df42-5bfe-a908-20e0f6ef7193"}},
    "staticQueryHashes": ["2841359383","3257411868"]}