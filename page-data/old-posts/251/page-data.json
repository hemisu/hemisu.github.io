{
    "componentChunkName": "component---src-templates-blog-post-js",
    "path": "/old-posts/251/",
    "result": {"data":{"site":{"siteMetadata":{"title":"何米酥`s Blog"}},"markdownRemark":{"id":"93722f25-24a0-59d9-abb0-2533f0f414b9","excerpt":"题目描述\n输入由非负整数、+、-、*、/、(、)组成的计算表达式，计算该表达式的值。 输入\n每个输入文件中一组数据。 输入只有一行，不超过200个字符，其中不存在空格。数据保证表达式一定合法，且所有的整数都不小于0、不大于1024。中间结果保证不超过1…","html":"<p>题目描述\n输入由非负整数、+、-、*、/、(、)组成的计算表达式，计算该表达式的值。</p>\n<p>输入\n每个输入文件中一组数据。</p>\n<p>输入只有一行，不超过200个字符，其中不存在空格。数据保证表达式一定合法，且所有的整数都不小于0、不大于1024。中间结果保证不超过15位有效数位精度。</p>\n<p>输出\n输出一行，即表达式的值，结果精度保留小数点后2位。</p>\n<p>样例输入\n3+(12/(2*2+1))\n样例输出\n5.40</p>\n<div class=\"gatsby-highlight\" data-language=\"text\"><pre class=\"language-text\"><code class=\"language-text\">    #include &lt;cstdio>\n    #include &lt;cmath>\n    #include &lt;cstring>\n    #include &lt;vector>\n    #include &lt;queue>\n    #include &lt;algorithm>\n    #include &lt;map>\n    #include &lt;stack>\n    #include &lt;ctype.h>\n    #include &lt;iostream>\n    using namespace std;\n    struct node{\n        double num;\n        char op;\n        bool flag;\n    };\n    string str;\n    stack&lt;node> s;//操作符栈\n    queue&lt;node> q;//后缀表达式列\n    map&lt;char, int> op;\n    void change(){\n        double num;\n        node temp;\n        for (int i = 0; i &lt; str.length(); ) {\n            if (isdigit(str[i])) {\n                temp.flag = true;//是数字\n                temp.num = str[i++] - '0';\n                while (i &lt; str.length() &amp;&amp; isdigit(str[i])) {\n                    temp.num = temp.num * 10 + str[i] - '0';\n                    i++;\n                }\n                q.push(temp);\n            }else if(str[i] == '('){\n                temp.op = str[i];\n                s.push(temp);\n                i++;\n            }else if(str[i] == ')'){\n                while (!s.empty() &amp;&amp; s.top().op != '(') {\n                    q.push(s.top());\n                    s.pop();\n                }\n                s.pop();\n                i++;\n            }else{//是操作符\n                temp.flag = false;\n                while (!s.empty() &amp;&amp; op[s.top().op] >= op[str[i]]) {\n                    q.push(s.top());\n                    s.pop();\n                }\n                temp.op = str[i];\n                s.push(temp);\n                i++;\n            }\n        }\n        while (!s.empty()) {\n            q.push(s.top());\n            s.pop();\n        }\n    }\n    double cal(){\n        double temp1, temp2;\n        node cur, temp;\n        while (!q.empty()) {\n            cur = q.front();\n            q.pop();\n            if (cur.flag == true) {//是数字\n                s.push(cur);\n            }else{\n                temp2 = s.top().num;\n                s.pop();\n                temp1 = s.top().num;\n                s.pop();\n                temp.flag = true;\n                if (cur.op == '+') {\n                    temp.num = temp1 + temp2;\n                }else if(cur.op == '-'){\n                    temp.num = temp1 - temp2;\n                }else if(cur.op == '*'){\n                    temp.num = temp1 * temp2;\n                }else if(cur.op == '/'){\n                    temp.num = temp1 / temp2;\n                }\n            }\n        }\n        return s.top().num;\n    }\n    int main(){\n        op['('] = op[')'] = 0;\n        op['+'] = op['-'] = 1;\n        op['*'] = op['/'] = 2;\n        getline(cin, str);\n        change();\n        printf(\"%.2f\\n\",cal());\n    \n        return 0;\n    }</code></pre></div>","tableOfContents":"","frontmatter":{"title":"3.1模拟题 problem3 某计算器的超电磁炮","date":"March 02, 2017","description":null}},"previous":{"fields":{"slug":"/old-posts/248/"},"frontmatter":{"title":"2.28模拟题 problem4 调查黑暗气息"}},"next":{"fields":{"slug":"/old-posts/252/"},"frontmatter":{"title":"3.1模拟题 problem2 万妖穴"}}},"pageContext":{"id":"93722f25-24a0-59d9-abb0-2533f0f414b9","previousPostId":"4808d6ed-2197-5897-a963-a816a129f8bc","nextPostId":"9664c564-3e9c-53d7-9de7-e4a1e50d6490"}},
    "staticQueryHashes": ["2841359383","3257411868"]}